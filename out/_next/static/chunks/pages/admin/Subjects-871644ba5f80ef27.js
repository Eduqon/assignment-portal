(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1946],{9042:function(e,n,t){"use strict";t.d(n,{iA:function(){return p},Rn:function(){return x},xJ:function(){return h},p3:function(){return m},Td:function(){return _},Th:function(){return j},hr:function(){return v},Tr:function(){return b}});var r=t(5993),c=t(4592),s=t(7294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function i(e,n){if(null==e)return{};var t,r,c={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(c[t]=e[t]);return c}var u=["overflow","overflowX","className"],o=["className"],l=["placement"],f=["isNumeric"],d=["isNumeric"],h=(0,r.Gp)((function(e,n){var t,o=e.overflow,l=e.overflowX,f=e.className,d=i(e,u);return s.createElement(r.m$.div,a({ref:n,className:(0,c.cx)("chakra-table__container",f)},d,{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(t=null!=o?o:l)?t:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),p=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Table",e),u=(0,r.Lr)(e),l=u.className,f=i(u,o);return s.createElement(r.Fo,{value:t},s.createElement(r.m$.table,a({role:"table",ref:n,__css:t.table,className:(0,c.cx)("chakra-table",l)},f)))}));c.Ts&&(p.displayName="Table");var x=(0,r.Gp)((function(e,n){var t=e.placement,c=void 0===t?"bottom":t,u=i(e,l),o=(0,r.yK)();return s.createElement(r.m$.caption,a({},u,{ref:n,__css:a({},o.caption,{captionSide:c})}))}));c.Ts&&(x.displayName="TableCaption");var v=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.thead,a({},e,{ref:n,__css:t.thead}))})),m=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.tbody,a({},e,{ref:n,__css:t.tbody}))})),j=(0,r.Gp)((function(e,n){var t=e.isNumeric,c=i(e,f),u=(0,r.yK)();return s.createElement(r.m$.th,a({},c,{ref:n,__css:u.th,"data-is-numeric":t}))})),b=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.tr,a({role:"row"},e,{ref:n,__css:t.tr}))})),_=(0,r.Gp)((function(e,n){var t=e.isNumeric,c=i(e,d),u=(0,r.yK)();return s.createElement(r.m$.td,a({role:"gridcell"},c,{ref:n,__css:u.td,"data-is-numeric":t}))}))},5687:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/Subjects",function(){return t(2848)}])},2848:function(e,n,t){"use strict";t.r(n),t.d(n,{SubjectShow:function(){return w}});var r=t(8520),c=t.n(r),s=t(5893),a=t(2028),i=t(8790),u=t(5193),o=t(7375),l=t(9762),f=t(4612),d=t(9042),h=t(9669),p=t.n(h),x=t(7294),v=t(8754),m=t(1163),j=t(9736);function b(e,n,t,r,c,s,a){try{var i=e[s](a),u=i.value}catch(o){return void t(o)}i.done?n(u):Promise.resolve(u).then(r,c)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var s=e.apply(n,t);function a(e){b(s,r,c,a,i,"next",e)}function i(e){b(s,r,c,a,i,"throw",e)}a(void 0)}))}}var w=function(){};n.default=function(){var e=function(){return(0,s.jsxs)(a.u_,{onClose:$,isOpen:O,isCentered:!0,children:[(0,s.jsx)(a.ZA,{}),(0,s.jsxs)(a.hz,{children:[(0,s.jsx)(a.xB,{children:T}),(0,s.jsx)(a.ol,{}),(0,s.jsx)(a.fe,{children:(0,s.jsx)(i.xv,{children:"Are you sure you want to delete?"})}),(0,s.jsx)(a.mz,{children:(0,s.jsx)(u.zx,{bgColor:"red",color:"white",onClick:_(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(T));case 1:case"end":return e.stop()}}),e)}))),children:"Delete"})})]})]})},n=(0,x.useState)([]),t=n[0],r=n[1],h=[],b=(0,m.useRouter)();function w(){return y.apply(this,arguments)}function y(){return(y=_(c().mark((function e(){var n,t,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==localStorage.getItem("userToken")&&b.replace("/admin/login"),e.next=5,p().get(v.JW+"/util/subject/fetch");case 5:if(n=e.sent,t=n.data.res,h=[],0!==t.length)for(s=0;s<t.length;s++)h.push({_id:t[s]._id});else console.log("No Subjects");r(h),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function k(){return(k=_(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=document.getElementById("subject")).value){e.next=5;break}window.alert("Enter a subject name"),e.next=17;break;case 5:return e.prev=5,e.next=8,p().post(v.JW+"/util/subject/new",{_id:n.value});case 8:if(!e.sent.data.success){e.next=13;break}return e.next=12,w();case 12:n.value="";case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(5);case 17:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function g(e){return N.apply(this,arguments)}function N(){return(N=_(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p().get(v.JW+"/util/subject/delete?_id="+n);case 3:if(!e.sent.data.success){e.next=9;break}return e.next=7,w();case 7:$(),S("");case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}(0,x.useEffect)((function(){w()}),[]);var E=(0,x.useState)(""),T=E[0],S=E[1],C=(0,o.qY)(),O=C.isOpen,G=C.onOpen,$=C.onClose;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e,{}),(0,s.jsx)("div",{className:"SubjectShow ShowSideClick",children:(0,s.jsxs)(i.gC,{children:[(0,s.jsx)(i.xu,{width:"100%",children:(0,s.jsxs)(l.NI,{id:"subject",children:[(0,s.jsx)(l.lX,{children:"Add New Subject"}),(0,s.jsxs)(f.BZ,{children:[(0,s.jsx)(f.II,{type:"text"}),(0,s.jsx)(f.xH,{padding:"5px",children:(0,s.jsx)(u.hU,{icon:(0,s.jsx)(j.dt,{}),onClick:function(){return function(){return k.apply(this,arguments)}()}})})]})]})}),(0,s.jsxs)(d.iA,{variant:"simple",size:"md",children:[(0,s.jsx)(d.hr,{bgColor:"gray.200",children:(0,s.jsxs)(d.Tr,{children:[(0,s.jsx)(d.Th,{children:"Name"}),(0,s.jsx)(d.Th,{})]})}),(0,s.jsx)(d.p3,{children:t.map((function(e){return(0,s.jsxs)(d.Tr,{children:[(0,s.jsx)(d.Td,{fontWeight:"bold",children:e._id}),(0,s.jsx)(d.Td,{children:(0,s.jsx)(u.hU,{icon:(0,s.jsx)(j.pJ,{}),onClick:function(){S(e._id),G()}})})]},e._id)}))})]})]})})]})}}},function(e){e.O(0,[9669,8527,7496,1716,3673,4612,9774,2888,179],(function(){return n=5687,e(e.s=n);var n}));var n=e.O();_N_E=n}]);