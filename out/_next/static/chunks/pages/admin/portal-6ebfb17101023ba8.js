(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4085,5279,1950,3513],{3582:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/portal",function(){return t(7084)}])},5279:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(5893),s=t(9042),i=t(4090),d=t(8790),a=t(7294),l=t(6257),c=t(7388),o=t(8520),u=t.n(o),x=t(9736),h=t(3181),j=t(5193),f=t(4612);function p(e,n,t,r,s,i,d){try{var a=e[i](d),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,s)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function d(e){p(i,r,s,d,a,"next",e)}function a(e){p(i,r,s,d,a,"throw",e)}d(void 0)}))}}function g(e){var n=(0,a.useState)("unassigned"),t=n[0],s=n[1],i=(0,a.useState)([]),o=i[0],p=i[1],g=(0,a.useState)(""),b=g[0],T=g[1],v=(0,a.useState)(""),S=v[0],w=v[1];function y(){return k.apply(this,arguments)}function k(){return(k=m(u().mark((function n(){var t,r,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=localStorage.getItem("userEmail"),T(t),n.prev=2,n.next=5,(0,l.QT)((0,l.JU)(c.db,"anonymous_chat",e.clientId));case 5:return r=n.sent,n.next=8,(0,l.pl)((0,l.JU)(c.db,"anonymous_chat",e.clientId),{operator:t});case 8:if(n.sent,""===r.data().operator){n.next=13;break}s("assigned"),n.next=18;break;case 13:return i=e.clientId+"_"+t,n.next=16,(0,l.pl)((0,l.JU)(c.db,"chat",i),{conversation:[{msg:"Hi!! Please let us know how I can assist you today?",time:Date.now(),type:"TEXT",user:t}]});case 16:n.sent,s("assigned");case 18:(0,l.cf)((0,l.JU)(c.db,"chat",e.clientId+"_"+t),(function(e){p(e.data().conversation)})),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(2),console.log(n.t0);case 24:case"end":return n.stop()}}),n,null,[[2,21]])})))).apply(this,arguments)}return(0,r.jsxs)(h.J2,{placement:"top-start",children:[(0,r.jsx)(h.xo,{children:(0,r.jsx)(j.hU,{onClick:m(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)}))),colorScheme:"blue",size:"lg",icon:(0,r.jsx)(x.kB,{})})}),(0,r.jsx)(h.yk,{children:(0,r.jsxs)(d.gC,{alignItems:"start",minH:"500px",maxH:"500px",children:[(0,r.jsx)(d.xu,{p:2,bgColor:"gray.200",width:"100%",children:(0,r.jsx)(d.X6,{fontSize:"xl",children:"Chat with Lead"})}),(0,r.jsx)(d.gC,{flexGrow:1,padding:"2",width:"100%",overflowY:"scroll",children:"unassigned"===t?(0,r.jsx)(d.xu,{children:(0,r.jsx)(d.xv,{children:"Connecting to an user....."})}):o.map((function(e,n){return(0,r.jsx)(d.xu,{display:"TEXT"===e.type?"flex":"none",alignSelf:e.user===b?"flex-end":"flex-start",flexWrap:!0,padding:2,borderRadius:"md",maxWidth:"70%",bgColor:e.user===b?"blue.100":"green.100",children:(0,r.jsx)(d.gC,{maxWidth:"100%",overflowWrap:"break-word",children:(0,r.jsx)(d.xv,{maxWidth:"100%",children:e.msg})})},n)}))}),(0,r.jsxs)(f.BZ,{p:1,display:"requested"===t?"none":"flex",children:[(0,r.jsx)(f.II,{type:"text",id:"props.clientId",value:S,onChange:function(e){w(e.target.value)}}),(0,r.jsx)(f.xH,{h:"full",children:(0,r.jsx)(j.zx,{id:"sendButton",onClick:m(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""===S||void 0===S){n.next=9;break}if(!/\b[\+]?[(]?[0-9]{2,6}[)]?[-\s\.]?[-\s\/\.0-9]{3,15}\b/m.test(S)){n.next=6;break}window.alert("Sending Phone Numbers through Chat is not allowed"),n.next=9;break;case 6:return n.next=8,(0,l.r7)((0,l.JU)(c.db,"chat",e.clientId+"_"+b),{conversation:(0,l.vr)({msg:S,time:Date.now(),type:"TEXT",user:b})});case 8:n.sent;case 9:w("");case 10:case"end":return n.stop()}}),n)}))),children:(0,r.jsx)(x.dt,{})})})]})]})})]})}var b=function(){var e=(0,a.useState)([]),n=e[0],t=e[1],o=(0,a.useState)(!1),u=o[0],x=o[1];return(0,a.useEffect)((function(){if(!u){var e=(0,l.IO)((0,l.hJ)(c.db,"anonymous_chat"),(0,l.Xo)("time","desc"),(0,l.ar)("time",">=",Date.now()-18e5));(0,l.cf)(e,(function(e){var n=[];e.forEach((function(e){n.push(e)})),t(n)}));x(!0)}}),[u,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,r.jsx)(s.hr,{bgColor:"gray.200",children:(0,r.jsxs)(s.Tr,{children:[(0,r.jsx)(s.Th,{children:"ID"}),(0,r.jsx)(s.Th,{children:"Assigned Sales"}),(0,r.jsx)(s.Th,{})]})}),(0,r.jsx)(s.p3,{children:0===n.length?(0,r.jsx)(r.Fragment,{}):n.map((function(e,n){return(0,r.jsxs)(s.Tr,{children:[(0,r.jsx)(s.Td,{fontWeight:"semibold",children:e.id}),(0,r.jsx)(s.Td,{children:e.data().operator}),(0,r.jsx)(s.Td,{children:(0,r.jsx)(g,{isAssignedOperator:!!e.data().operator,clientId:e.id,assignedOperator:e.data().operator})})]},e.id)}))})]}),(0,r.jsx)("div",{className:"ShowSideClick",children:0===n.length?(0,r.jsx)(r.Fragment,{}):n.map((function(e,n){return(0,r.jsx)(i.UQ,{defaultIndex:[0],allowMultiple:!0,display:{base:"block",sm:"none",md:"none"},children:(0,r.jsxs)(i.Qd,{children:[(0,r.jsx)("h2",{children:(0,r.jsxs)(i.KF,{children:[(0,r.jsx)(d.xu,{flex:"1",textAlign:"left",children:(0,r.jsx)(s.iA,{children:(0,r.jsxs)(s.Tr,{children:[(0,r.jsx)(s.Th,{children:"ID"}),(0,r.jsx)(s.Td,{fontWeight:"semibold",children:e.id})]})})}),(0,r.jsx)(i.XE,{})]})}),(0,r.jsx)(i.Hk,{pb:4,children:(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.iA,{children:(0,r.jsxs)(s.p3,{children:[(0,r.jsxs)(s.Tr,{children:[(0,r.jsx)(s.Th,{children:"ID"}),(0,r.jsx)(s.Th,{children:"Assigned Sales"})]}),(0,r.jsx)(s.Tr,{children:(0,r.jsx)(s.iA,{children:(0,r.jsx)(s.Tr,{children:(0,r.jsx)(g,{isAssignedOperator:!!e.data().operator,clientId:e.id,assignedOperator:e.data().operator})})})},e.id)]})})})})]})})}))})]})}},4285:function(e,n,t){"use strict";t.r(n);var r=t(5893),s=t(8790),i=t(9839),d=t(3513),a=t(1950);n.default=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"ShowSideClick",children:(0,r.jsx)(s.xu,{padding:0,children:(0,r.jsxs)(i.mQ,{isLazy:!0,variant:"soft-rounded",children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.OK,{children:(0,r.jsx)(s.X6,{fontSize:"sm",children:"By Deadline"})}),(0,r.jsx)(i.OK,{children:(0,r.jsx)(s.X6,{fontSize:"sm",children:"By Expert Deadline"})})]}),(0,r.jsxs)(i.nP,{children:[(0,r.jsx)(i.x4,{children:(0,r.jsx)(d.default,{})}),(0,r.jsx)(i.x4,{children:(0,r.jsx)(a.default,{})})]})]})})})})}},3513:function(e,n,t){"use strict";t.r(n);var r=t(8520),s=t.n(r),i=t(5893),d=t(6876),a=t(8790),l=t(9042),c=t(4090),o=t(7294),u=t(1163),x=t(8754),h=t(9669),j=t.n(h);function f(e,n,t,r,s,i,d){try{var a=e[i](d),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,s)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function d(e){f(i,r,s,d,a,"next",e)}function a(e){f(i,r,s,d,a,"throw",e)}d(void 0)}))}}n.default=function(){var e=(0,o.useState)([]),n=e[0],t=e[1],r=(0,u.useRouter)(),h=[];function f(e){return m.apply(this,arguments)}function m(){return(m=p(s().mark((function e(n){var i,d,a,l,c,o,u,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==(i=localStorage.getItem("userToken"))&&r.replace("/admin/login"),d={headers:{Authorization:"Bearer ".concat(i)}},a=n,l=new Date(a.setHours(0,0,0,0)),c=new Date(a.setHours(24,0,0,0)),e.next=9,j().post(x.JW+"/assignment/fetch",{deadline:{$gte:l.toISOString(),$lt:c.toISOString()}},d);case 9:if(o=e.sent,u=o.data.assignmentData,h=[],0!==u.length)for(f=0;f<u.length;f++)h.push({id:u[f]._id,client_id:u[f].client_id,subject:u[f].subject,status:u[f].status,quotation:u[f].quotation,currencyOfQuote:u[f].currencyOfQuote,level:u[f].level,reference:u[f].reference,description:u[f].description,descriptionFile:u[f].descriptionFile,numOfPages:u[f].numOfPages,paid:u[f].paid,deadline:new Date(u[f].deadline).toLocaleTimeString()+", "+new Date(u[f].deadline).toDateString(),expertDeadline:new Date(u[f].expertDeadline).toLocaleTimeString()+", "+new Date(u[f].expertDeadline).toDateString()});else console.log("No Orders");t(h),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){f(new Date)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(a.Ug,{marginBottom:"20px",justifyContent:"center",children:(0,i.jsx)(d.ZP,{className:"Set-H",onClickDay:function(e){f(e)}})}),(0,i.jsxs)(l.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(l.hr,{bgColor:"gray.200",children:(0,i.jsxs)(l.Tr,{children:[(0,i.jsx)(l.Th,{children:"Id"}),(0,i.jsx)(l.Th,{children:"Student Email"}),(0,i.jsx)(l.Th,{children:"Subject"}),(0,i.jsx)(l.Th,{children:"Amount Paid"}),(0,i.jsx)(l.Th,{children:"Expert"}),(0,i.jsx)(l.Th,{children:"Expert Deadline"}),(0,i.jsx)(l.Th,{children:"Deadline"})]})}),(0,i.jsx)(l.p3,{children:n.map((function(e){return(0,i.jsxs)(l.Tr,{children:[(0,i.jsx)(l.Td,{fontWeight:"semibold",children:(0,i.jsx)(a.rU,{href:"/admin/assignment_details/"+e.id,children:e.id})}),(0,i.jsx)(l.Td,{children:"Super Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2)+"****@****.com"}),(0,i.jsx)(l.Td,{color:"green.600",fontWeight:"semibold",children:e.subject}),(0,i.jsx)(l.Td,{children:e.paid}),(0,i.jsx)(l.Td,{children:e.assignedExpert}),(0,i.jsx)(l.Td,{fontWeight:"semibold",children:e.expertDeadline})]},e.id)}))})]})]}),(0,i.jsx)("div",{display:{base:"block",sm:"none",md:"none"},children:n.map((function(e){c.UQ,c.Qd,c.KF,a.xu,l.iA,l.Tr,l.Th,l.Td,a.rU,e.id,e.id,c.XE,c.Hk,l.xJ,l.iA,l.p3,i.Fragment,l.Tr,l.iA,l.Tr,l.Th,l.Td,"Super Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2),l.Tr,l.Th,l.Td,e.subject,l.Tr,l.Th,l.Td,e.paid,l.Tr,l.Th,l.Td,e.assignedExpert,l.Tr,l.Th,l.Td,e.expertDeadline,l.Tr,l.Th,l.Td,e.deadline,e.id}))})]})}},1950:function(e,n,t){"use strict";t.r(n);var r=t(8520),s=t.n(r),i=t(5893),d=t(6876),a=t(8790),l=t(9042),c=t(4090),o=t(7294),u=t(1163),x=t(8754),h=t(9669),j=t.n(h);function f(e,n,t,r,s,i,d){try{var a=e[i](d),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,s)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function d(e){f(i,r,s,d,a,"next",e)}function a(e){f(i,r,s,d,a,"throw",e)}d(void 0)}))}}n.default=function(){var e=(0,o.useState)([]),n=e[0],t=e[1],r=(0,u.useRouter)(),h=[];function f(e){return m.apply(this,arguments)}function m(){return(m=p(s().mark((function e(n){var i,d,a,l,c,o,u,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==(i=localStorage.getItem("userToken"))&&r.replace("/admin/login"),d={headers:{Authorization:"Bearer ".concat(i)}},a=n,l=new Date(a.setHours(0,0,0,0)),c=new Date(a.setHours(24,0,0,0)),e.next=9,j().post(x.JW+"/assignment/fetch",{expertDeadline:{$gte:l.toISOString(),$lt:c.toISOString()}},d);case 9:if(o=e.sent,u=o.data.assignmentData,h=[],0!==u.length)for(f=0;f<u.length;f++)h.push({id:u[f]._id,client_id:u[f].client_id,subject:u[f].subject,status:u[f].status,quotation:u[f].quotation,currencyOfQuote:u[f].currencyOfQuote,level:u[f].level,reference:u[f].reference,description:u[f].description,descriptionFile:u[f].descriptionFile,numOfPages:u[f].numOfPages,paid:u[f].paid,deadline:new Date(u[f].deadline).toLocaleTimeString()+", "+new Date(u[f].deadline).toDateString(),expertDeadline:new Date(u[f].expertDeadline).toLocaleTimeString()+", "+new Date(u[f].expertDeadline).toDateString()});else console.log("No Orders");t(h),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){f(new Date)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(a.Ug,{marginBottom:"20px",justifyContent:"center",children:(0,i.jsx)(d.ZP,{onClickDay:function(e){f(e)}})}),(0,i.jsxs)(l.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(l.hr,{bgColor:"gray.200",children:(0,i.jsxs)(l.Tr,{children:[(0,i.jsx)(l.Th,{children:"Id"}),(0,i.jsx)(l.Th,{children:"Student Email"}),(0,i.jsx)(l.Th,{children:"Subject"}),(0,i.jsx)(l.Th,{children:"Amount Paid"}),(0,i.jsx)(l.Th,{children:"Expert"}),(0,i.jsx)(l.Th,{children:"Deadline"}),(0,i.jsx)(l.Th,{children:"Expert Deadline"})]})}),(0,i.jsx)(l.p3,{children:n.map((function(e){return(0,i.jsxs)(l.Tr,{children:[(0,i.jsx)(l.Td,{fontWeight:"semibold",children:(0,i.jsx)(a.rU,{href:"/admin/assignment_details/"+e.id,children:e.id})}),(0,i.jsx)(l.Td,{children:"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2)+"****@****.com"}),(0,i.jsx)(l.Td,{color:"green.600",fontWeight:"semibold",children:e.subject}),(0,i.jsx)(l.Td,{children:e.paid}),(0,i.jsx)(l.Td,{children:e.assignedExpert}),(0,i.jsx)(l.Td,{fontWeight:"semibold",children:e.deadline}),(0,i.jsx)(l.Td,{color:"red.600",fontWeight:"semibold",children:e.expertDeadline})]},e.id)}))})]})]}),(0,i.jsx)("div",{display:{base:"block",sm:"none",md:"none"},children:n.map((function(e){c.UQ,c.Qd,c.KF,a.xu,l.iA,l.Tr,l.Th,l.Td,a.rU,e.id,e.id,c.XE,c.Hk,l.xJ,l.iA,l.p3,i.Fragment,l.Tr,l.iA,l.Tr,l.Th,l.Td,"Super Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2),l.Tr,l.Th,l.Td,e.subject,l.Tr,l.Th,l.Td,e.paid,l.Tr,l.Th,l.Td,e.assignedExpert,l.Tr,l.Th,l.Td,e.expertDeadline,l.Tr,l.Th,l.Td,e.deadline,e.id}))})]})}},3146:function(e,n,t){"use strict";t.r(n);var r=t(5893),s=t(8790),i=t(9839),d=t(5279),a=t(210);n.default=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xu,{padding:0,children:(0,r.jsx)(i.mQ,{isLazy:!0,variant:"soft-rounded",display:{base:"none",sm:"block",md:"block"},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.td,{children:[(0,r.jsx)(i.OK,{children:(0,r.jsx)(s.X6,{fontSize:"md",children:"Home Chat Queue"})}),(0,r.jsx)(i.OK,{children:(0,r.jsx)(s.X6,{fontSize:"md",children:"Sales Chat Queue"})})]}),(0,r.jsxs)(i.nP,{children:[(0,r.jsx)(i.x4,{children:(0,r.jsx)(d.default,{})}),(0,r.jsx)(i.x4,{children:(0,r.jsx)(a.default,{})})]})]})})}),(0,r.jsx)(s.xu,{display:{base:"block",sm:"none",md:"none "},id:"ParentElem"})]})}},210:function(e,n,t){"use strict";t.r(n);var r=t(8520),s=t.n(r),i=t(5893),d=t(9042),a=t(5193),l=t(4090),c=t(8790),o=t(7294),u=t(6257),x=t(7388),h=t(1163),j=t(8754),f=t(9669),p=t.n(f);function m(e,n,t,r,s,i,d){try{var a=e[i](d),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,s)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function d(e){m(i,r,s,d,a,"next",e)}function a(e){m(i,r,s,d,a,"throw",e)}d(void 0)}))}}n.default=function(){var e=(0,o.useState)([]),n=e[0],t=e[1],r=(0,o.useState)(!1),f=r[0],m=r[1],b=(0,h.useRouter)();function T(e,n){return v.apply(this,arguments)}function v(){return(v=g(s().mark((function e(n,t){var r,i,d,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userEmail"),e.prev=1,e.next=4,(0,u.pl)((0,u.JU)(x.db,"sales_chat",t),{sales:r});case 4:return e.sent,i=n+"_"+r+"_"+t,e.next=8,(0,u.pl)((0,u.JU)(x.db,"chat",i),{conversation:[{msg:"Hi!! Please let us know how I can assist you today?",time:Date.now(),type:"TEXT",user:r}]});case 8:return e.sent,d=localStorage.getItem("userToken"),a={headers:{Authorization:"Bearer ".concat(d)}},e.next=13,p().post(j.JW+"/assignment/update",{_id:t,assignedSales:r},a);case 13:e.sent,b.replace("/admin/assignment_details/".concat(t)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){if(!f){var e=(0,u.IO)((0,u.hJ)(x.db,"sales_chat"),(0,u.Xo)("time","desc"),(0,u.ar)("time",">=",Date.now()-18e5));(0,u.cf)(e,(function(e){var n=[];e.forEach((function(e){n.push(e)})),t(n)}));m(!0)}}),[f,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(d.hr,{bgColor:"gray.200",children:(0,i.jsxs)(d.Tr,{children:[(0,i.jsx)(d.Th,{children:"ID"}),(0,i.jsx)(d.Th,{children:"Assigned Sales"}),(0,i.jsx)(d.Th,{})]})}),(0,i.jsx)(d.p3,{children:0===n.length?(0,i.jsx)(i.Fragment,{}):n.map((function(e,n){return(0,i.jsxs)(d.Tr,{visibility:""===e.data().sales?"visible":"collapse",children:[(0,i.jsx)(d.Td,{fontWeight:"semibold",children:"Super Admin"===localStorage.getItem("userRole")?e.id:e.id.substring(0,2)+"****@****.com"}),(0,i.jsx)(d.Td,{children:e.data().sales}),(0,i.jsx)(d.Td,{children:(0,i.jsx)(a.zx,{onClick:g(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T(e.id,e.data().assignment);case 2:case"end":return n.stop()}}),n)}))),children:"Resolve"})})]},e.id)}))})]}),(0,i.jsx)("div",{className:"ShowSideClick",children:0===n.length?(0,i.jsx)(i.Fragment,{}):n.map((function(e,n){return(0,i.jsx)(l.UQ,{defaultIndex:[0],allowMultiple:!0,display:{base:"block",sm:"none",md:"none"},children:(0,i.jsxs)(l.Qd,{children:[(0,i.jsx)("h2",{children:(0,i.jsxs)(l.KF,{children:[(0,i.jsx)(c.xu,{flex:"1",textAlign:"left",children:"Sales Chat Queue"}),(0,i.jsx)(l.XE,{})]})}),(0,i.jsx)(l.Hk,{pb:4,children:(0,i.jsx)(d.xJ,{children:(0,i.jsx)(d.iA,{children:(0,i.jsx)(d.p3,{children:(0,i.jsxs)(d.Tr,{visibility:""===e.data().sales?"visible":"collapse",children:[(0,i.jsxs)(d.iA,{children:[(0,i.jsxs)(d.Tr,{children:[(0,i.jsx)(d.Th,{children:"ID"}),(0,i.jsx)(d.Td,{fontWeight:"semibold",children:"Super Admin"===localStorage.getItem("userRole")?e.id:e.id.substring(0,2)+"****@****.com"})]}),(0,i.jsxs)(d.Tr,{children:[(0,i.jsx)(d.Th,{children:"Assigned Sales"}),(0,i.jsx)(d.Td,{children:e.data().sales})]})]}),(0,i.jsx)(d.Td,{children:(0,i.jsx)(a.zx,{onClick:g(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T(e.id,e.data().assignment);case 2:case"end":return n.stop()}}),n)}))),children:"Resolve"})})]},e.id)})})})})]})})}))})]})}},7084:function(e,n,t){"use strict";t.r(n);var r=t(8520),s=t.n(r),i=t(5893),d=t(7375),a=t(8790),l=t(9839),c=t(9609),o=t(2517),u=t(3146),x=t(7294),h=t(4285),j=t(6970),f=t(1172),p=t(2848),m=t(1489),g=t(6412),b=t(11),T=t(9451),v=t(5264),S=t(5134),w=t(1629),y=t(5279),k=t(210),D=t(8925),I=t(3409),O=t(231),_=t(2445),A=t(1889),E=t(1346),C=t(2294),P=t(6746),z=t(6148),X=t(740),F=(t(439),t(9736)),R=t(979),W=t(2024);function K(e,n,t,r,s,i,d){try{var a=e[i](d),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,s)}n.default=function(){var e,n=(0,x.useState)(""),t=n[0],r=n[1],Q=((0,d.qY)().onClose,(0,x.useState)(0)),U=Q[0],J=Q[1],H=(0,x.useState)(!0),N=H[0],B=H[1];return(0,x.useEffect)((e=s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(localStorage.getItem("userRole"));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,s){var i=e.apply(n,t);function d(e){K(i,r,s,d,a,"next",e)}function a(e){K(i,r,s,d,a,"throw",e)}d(void 0)}))})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(W.default,{}),(0,i.jsx)(a.xu,{padding:"10px",position:"relative",children:(0,i.jsx)(l.mQ,{position:"absolute",orientation:"vertical",variant:"solid-rounded",display:{base:"none",sm:"inline-flex",md:"inline-flex "},children:"Sales"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.td,{display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Support"})}),(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Orders"})})]}),(0,i.jsxs)(l.nP,{children:[(0,i.jsx)(l.x4,{children:(0,i.jsx)(u.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(o.default,{})})]})]}):"Operator"===t?(0,i.jsxs)(i.Fragment,{children:[N&&(0,i.jsx)(a.xu,{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",left:0,top:0,zIndex:1,children:(0,i.jsx)(c.$,{size:"xl"})}),(0,i.jsxs)(l.td,{children:[(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Calendar"})}),(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Orders"})}),(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Raw Submission"})}),(0,i.jsx)(l.OK,{children:(0,i.jsxs)(a.xu,{display:"flex",alignItems:"center",children:[(0,i.jsx)(a.X6,{fontSize:"md",children:"Messages"}),(0,i.jsxs)(a.xu,{display:"flex",alignItems:"center",position:"relative",marginLeft:2,children:[(0,i.jsx)(F.kB,{width:"1.5em",height:"1.5em"}),0!==U?(0,i.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:15,backgroundColor:"rgb(201, 105, 105)",marginLeft:2,width:5,height:5,color:"white",position:"absolute",right:"-10px",top:"-5px",children:U}):null]})]})})]}),(0,i.jsxs)(l.nP,{children:[(0,i.jsx)(l.x4,{children:(0,i.jsx)(h.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(o.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(E.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(R.default,{setMessageCount:J,setSpinnerLoading:B})})]})]}):"Super Admin"===t||"Admin"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.td,{children:[(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Admin"})}),(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Support"})}),(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Calendar"})}),(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Orders"})})]}),(0,i.jsxs)(l.nP,{children:[(0,i.jsx)(l.x4,{children:(0,i.jsx)(j.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(u.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(h.default,{})}),(0,i.jsx)(l.x4,{children:(0,i.jsx)(o.default,{})})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.td,{display:{base:"none",sm:"block",md:"block"},children:(0,i.jsx)(l.OK,{children:(0,i.jsx)(a.X6,{fontSize:"md",children:"Orders"})})}),(0,i.jsx)(l.nP,{display:{base:"none",sm:"block",md:"block"},children:(0,i.jsx)(l.x4,{children:(0,i.jsx)(o.default,{})})})]})})}),(0,i.jsxs)(a.xu,{display:{base:"block",sm:"none",md:"none "},id:"parent_tab",children:[(0,i.jsx)(f.default,{}),(0,i.jsx)(p.default,{}),(0,i.jsx)(g.default,{}),(0,i.jsx)(m.default,{}),(0,i.jsx)(b.default,{}),(0,i.jsx)(T.default,{}),(0,i.jsx)(v.default,{}),(0,i.jsx)(S.default,{}),(0,i.jsx)(w.default,{}),(0,i.jsx)(y.default,{}),(0,i.jsx)(k.default,{}),(0,i.jsx)(h.default,{}),(0,i.jsx)(D.default,{}),(0,i.jsx)(I.default,{}),(0,i.jsx)(O.default,{}),(0,i.jsx)(_.default,{}),(0,i.jsx)(A.default,{}),(0,i.jsx)(E.default,{}),(0,i.jsx)(C.default,{}),(0,i.jsx)(P.default,{}),(0,i.jsx)(z.default,{}),(0,i.jsx)(X.default,{})]})]})}},4671:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(7294);function s(e){let n;const t=new Set,r=(e,r)=>{const s="function"===typeof e?e(n):e;if(s!==n){const e=n;n=r?s:Object.assign({},n,s),t.forEach((t=>t(n,e)))}},s=()=>n,i={setState:r,getState:s,subscribe:(e,r,i)=>r||i?((e,r=s,i=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=r(n);function a(){const t=r(n);if(!i(d,t)){const n=d;e(d=t,n)}}return t.add(a),()=>t.delete(a)})(e,r,i):(t.add(e),()=>t.delete(e)),destroy:()=>t.clear()};return n=e(r,s,i),i}const i="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function d(e){const n="function"===typeof e?s(e):e,t=(e=n.getState,t=Object.is)=>{const[,s]=(0,r.useReducer)((e=>e+1),0),d=n.getState(),a=(0,r.useRef)(d),l=(0,r.useRef)(e),c=(0,r.useRef)(t),o=(0,r.useRef)(!1),u=(0,r.useRef)();let x;void 0===u.current&&(u.current=e(d));let h=!1;(a.current!==d||l.current!==e||c.current!==t||o.current)&&(x=e(d),h=!t(u.current,x)),i((()=>{h&&(u.current=x),a.current=d,l.current=e,c.current=t,o.current=!1}));const j=(0,r.useRef)(d);i((()=>{const e=()=>{try{const e=n.getState(),t=l.current(e);c.current(u.current,t)||(a.current=e,u.current=t,s())}catch(e){o.current=!0,s()}},t=n.subscribe(e);return n.getState()!==j.current&&e(),t}),[]);const f=h?x:u.current;return(0,r.useDebugValue)(f),f};return Object.assign(t,n),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[t,n];return{next(){const n=e.length<=0;return{value:e.shift(),done:n}}}},t}}},function(e){e.O(0,[2016,9669,8527,7496,1716,3673,4612,5738,9002,3918,9411,9839,6876,3181,6412,1172,2024,8925,1346,231,1889,2294,740,6148,6746,2445,2517,979,6970,9774,2888,179],(function(){return n=3582,e(e.s=n);var n}));var n=e.O();_N_E=n}]);