(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4338],{284:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/assignments",function(){return t(7556)}])},7556:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(8520),i=t.n(r),s=t(5893),l=t(9736),a=t(8790),d=t(5193),o=t(1391),c=t(9042),u=t(4090),h=t(9669),x=t.n(h),j=t(7294),g=t(949),f=t(4651),p=t(7657);function m(){return(0,s.jsx)(a.xu,{children:(0,s.jsxs)(a.kC,{bg:(0,g.ff)("white","gray.800"),color:(0,g.ff)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4,md:10},borderBottom:1,borderStyle:"solid",borderColor:(0,g.ff)("gray.200","gray.900"),align:"center",children:[(0,s.jsx)(a.kC,{flex:{base:1},justify:{base:"start",md:"start"},children:(0,s.jsx)(f.Ee,{src:"/assets/Logo.png",w:20})}),(0,s.jsx)(a.Ug,{spacing:5,children:(0,s.jsx)(p.qE,{})})]})})}var b=t(8754),T=t(1163);function y(e,n,t,r,i,s,l){try{var a=e[s](l),d=a.value}catch(o){return void t(o)}a.done?n(d):Promise.resolve(d).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function l(e){y(s,r,i,l,a,"next",e)}function a(e){y(s,r,i,l,a,"throw",e)}l(void 0)}))}}function P(){var e=(0,j.useState)(localStorage.getItem("clientEmail")),n=e[0],t=(e[1],(0,j.useState)(localStorage.getItem("clientToken"))),r=t[0],h=(t[1],(0,j.useState)([])),g=h[0],f=h[1],p=(0,j.useState)([]),y=p[0],P=p[1],k=(0,j.useState)({_id:"INR",INRFactor:"1"}),w=k[0],_=k[1],C=[],F=[],S=(0,T.useRouter)();function N(){return A.apply(this,arguments)}function A(){return(A=v(i().mark((function e(){var t,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null!=r&&void 0!=r&&null!=n&&void 0!=n||S.replace("/"),e.next=4,x().post(b.JW+"/util/currency/fetch");case 4:if(t=e.sent,s=t.data.res,C=[],0!==s.length)for(l=0;l<s.length;l++)C.push({_id:s[l]._id,INRFactor:s[l].INRFactor});else console.log("No Currencies");P(C),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function W(){return I.apply(this,arguments)}function I(){return(I=v(i().mark((function e(){var t,s,l,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null!=r&&void 0!=r&&null!=n&&void 0!=n||S.replace("/"),t={headers:{Authorization:"Bearer ".concat(r)}},e.next=5,x().get(b.JW+"/assignment/fetch?client_id="+n,t);case 5:for(s=e.sent,console.log(s),l=s.data.assignmentData,F=[],a=0;a<l.length;a++)F.push({id:l[a]._id,subject:l[a].subject,status:l[a].status,quotation:l[a].quotation,paid:l[a].paid,deadline:new Date(l[a].deadline).toLocaleTimeString()+", "+new Date(l[a].deadline).toDateString()});f(F),N(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),S.replace("/");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return(0,j.useEffect)((function(){W()}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(a.gC,{padding:10,display:{base:"none",sm:"block",md:"block"},children:[(0,s.jsxs)(a.kC,{justifyContent:"space-between",alignItems:"center",flexDirection:{base:"column",md:"row"},children:[(0,s.jsx)(a.X6,{fontSize:"3xl",color:"gray.800",textAlign:{base:"center",md:"left"},children:"All Assignments"}),(0,s.jsx)(d.zx,{display:{base:"inline-flex",md:"inline-flex"},fontSize:"sm",variant:"outline",fontWeight:600,margin:10,color:"gray.800",onClick:function(){S.replace("/")},children:(0,s.jsxs)(a.Ug,{spacing:4,children:[(0,s.jsx)(l.dt,{}),(0,s.jsxs)(a.xv,{fontWeight:"bold",color:"gray.700",children:[" ","New Assignment"]})]})}),(0,s.jsx)(d.zx,{display:{base:"inline-flex",md:"inline-flex"},fontSize:"sm",variant:"outline",fontWeight:600,color:"gray.800",onClick:function(){W()},children:(0,s.jsx)(a.Ug,{spacing:4,children:(0,s.jsx)(l.ny,{})})})]}),(0,s.jsx)(o.Ph,{maxW:"300px",id:"currency",onChange:function(e){_(y[e.target.value])},children:y.map((function(e,n){return(0,s.jsx)("option",{value:n,children:e._id},n)}))}),(0,s.jsxs)(c.iA,{variant:"simple",size:"md",children:[(0,s.jsx)(c.hr,{bgColor:"gray.200",children:(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Id"}),(0,s.jsx)(c.Th,{children:"Subject"}),(0,s.jsx)(c.Th,{children:"Status"}),(0,s.jsx)(c.Th,{children:"Order Quote"}),(0,s.jsx)(c.Th,{children:"Amount Paid"}),(0,s.jsx)(c.Th,{children:"Deadline"})]})}),(0,s.jsx)(c.p3,{children:g.map((function(e){return(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Td,{fontWeight:"semibold",children:(0,s.jsx)(a.rU,{href:"/assignment_details/"+e.id,children:e.id})}),(0,s.jsx)(c.Td,{children:e.subject}),(0,s.jsx)(c.Td,{color:"green.600",fontWeight:"semibold",children:"Fresh Order"===e.status?"Order Under Review":"CP1 Pending"===e.status?"1st Payment Link Sent":"CP2 Pending"===e.status?"2nd Payment Link Sent":"CP2 Done"===e.status?"Assignment Done":"CP2 Pending"===e.status?"2nd Payment Link Sent":"Work Underway"}),(0,s.jsx)(c.Td,{children:null!==e.quotation?w._id+" "+(parseFloat(e.quotation)*parseFloat(w.INRFactor)).toFixed(2):""}),(0,s.jsx)(c.Td,{children:null!==e.paid?w._id+" "+(parseFloat(e.paid)*parseFloat(w.INRFactor)).toFixed(2):""}),(0,s.jsx)(c.Td,{color:"red.600",fontWeight:"semibold",children:e.deadline})]},e.id)}))})]})]}),(0,s.jsx)(u.UQ,{allowMultiple:!0,display:{base:"block",sm:"none",md:"none"},children:g.map((function(e){return(0,s.jsxs)(u.Qd,{children:[(0,s.jsx)("h2",{children:(0,s.jsxs)(u.KF,{children:[(0,s.jsx)(a.xu,{flex:"1",textAlign:"left",children:(0,s.jsx)(c.iA,{bgColor:"gray.100",children:(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Id"}),(0,s.jsx)(c.Td,{fontWeight:"semibold",children:(0,s.jsx)(a.rU,{href:"/assignment_details/"+e.id,children:e.id})})]})})}),(0,s.jsx)(u.XE,{})]})}),(0,s.jsx)(u.Hk,{pb:4,children:(0,s.jsx)(c.iA,{variant:"simple",size:"md",children:(0,s.jsx)(c.p3,{children:(0,s.jsx)(c.Tr,{children:(0,s.jsxs)(c.iA,{bgColor:"gray.100",children:[(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Subject"}),(0,s.jsx)(c.Td,{children:e.subject})]}),(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Status"}),(0,s.jsx)(c.Td,{color:"green.600",fontWeight:"semibold",children:"Fresh Order"===e.status?"Order Under Review":"CP1 Pending"===e.status?"1st Payment Link Sent":"CP2 Pending"===e.status?"2nd Payment Link Sent":"CP2 Done"===e.status?"Assignment Done":"CP2 Pending"===e.status?"2nd Payment Link Sent":"Work Underway"})]}),(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Order Quote"}),(0,s.jsx)(c.Td,{children:null!==e.quotation?w._id+" "+(parseFloat(e.quotation)*parseFloat(w.INRFactor)).toFixed(2):""})]}),(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Amount Paid"}),(0,s.jsx)(c.Td,{children:null!==e.paid?w._id+" "+(parseFloat(e.paid)*parseFloat(w.INRFactor)).toFixed(2):""})]}),(0,s.jsxs)(c.Tr,{children:[(0,s.jsx)(c.Th,{children:"Deadline"}),(0,s.jsx)(c.Td,{color:"red.600",fontWeight:"semibold",children:e.deadline})]})]})},e.id)})})})]})}))})]})}}},function(e){e.O(0,[9669,8527,7496,1716,5738,8914,9774,2888,179],(function(){return n=284,e(e.s=n);var n}));var n=e.O();_N_E=n}]);