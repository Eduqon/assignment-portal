"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1172],{1172:function(e,n,r){r.r(n),r.d(n,{clickk:function(){return y}});var t=r(8520),i=r.n(t),s=r(5893),c=r(9736),l=r(2028),d=r(8790),a=r(5193),o=r(7375),h=r(9042),u=r(4090),x=r(9669),m=r.n(x),j=r(7294),g=r(8756),p=r(1163);function f(e,n,r,t,i,s,c){try{var l=e[s](c),d=l.value}catch(a){return void r(a)}l.done?n(d):Promise.resolve(d).then(t,i)}function T(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var s=e.apply(n,r);function c(e){f(s,t,i,c,l,"next",e)}function l(e){f(s,t,i,c,l,"throw",e)}c(void 0)}))}}var y=function(){document.getElementsByClassName("clickShow")[0].style.display="block"};n.default=function(){var e=function(){return(0,s.jsxs)(l.u_,{onClose:F,isOpen:A,isCentered:!0,children:[(0,s.jsx)(l.ZA,{}),(0,s.jsxs)(l.hz,{children:[(0,s.jsx)(l.xB,{children:w}),(0,s.jsx)(l.ol,{}),(0,s.jsx)(l.fe,{children:(0,s.jsx)(d.xv,{children:"Are you sure you want to delete?"})}),(0,s.jsx)(l.mz,{children:(0,s.jsx)(a.zx,{bgColor:"red",color:"white",onClick:T(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(w));case 1:case"end":return e.stop()}}),e)}))),children:"Delete"})})]})]})},n=(0,j.useState)([]),r=n[0],t=n[1],x=[],f=(0,p.useRouter)();function y(){return I.apply(this,arguments)}function I(){return(I=T(i().mark((function e(){var n,r,s,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==(n=localStorage.getItem("userToken"))&&f.replace("/admin/login"),r={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,m().get(g.JW+"/assignment/fetch",r);case 6:if(s=e.sent,c=s.data.assignmentData,x=[],0!==c.length)for(l=0;l<c.length;l++)x.push({id:c[l]._id,client_id:c[l].client_id,subject:c[l].subject,status:c[l].status,quotation:c[l].quotation,currencyOfQuote:c[l].currencyOfQuote,level:c[l].level,reference:c[l].reference,description:c[l].description,descriptionFile:c[l].descriptionFile,numOfPages:c[l].numOfPages,paid:c[l].paid,cp1PaymentId:c[l].cp1PaymentId,cp2PaymentId:c[l].cp2PaymentId,deadline:new Date(c[l].deadline).toLocaleTimeString()+", "+new Date(c[l].deadline).toDateString(),expertDeadline:new Date(c[l].expertDeadline).toLocaleTimeString()+", "+new Date(c[l].expertDeadline).toDateString()});else console.log("No Orders");t(x),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function P(e){return b.apply(this,arguments)}function b(){return(b=T(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(r=localStorage.getItem("userToken"))&&f.replace("/admin/login"),t={headers:{Authorization:"Bearer ".concat(r)}},e.prev=3,e.next=6,m().get(g.JW+"/assignment/delete?_id="+n,t);case 6:if(!e.sent.data.success){e.next=12;break}return e.next=10,y();case 10:F(),S("");case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(3);case 16:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}(0,j.useEffect)((function(){y()}),[]);var v=(0,j.useState)(""),w=v[0],S=v[1],k=(0,o.qY)(),A=k.isOpen,C=k.onOpen,F=k.onClose;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e,{}),(0,s.jsxs)(h.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,s.jsx)(h.hr,{bgColor:"gray.200",children:(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Th,{children:"Id"}),(0,s.jsx)(h.Th,{children:"Student Email"}),(0,s.jsx)(h.Th,{children:"Subject"}),(0,s.jsx)(h.Th,{children:"Order Quote"}),(0,s.jsx)(h.Th,{children:"Amount Paid"}),"Admin"===localStorage.getItem("userRole")?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(h.Th,{children:"CP1 Payment ID"}),(0,s.jsx)(h.Th,{children:"CP2 Payment ID"})]}),(0,s.jsx)(h.Th,{children:(0,s.jsx)(a.zx,{leftIcon:(0,s.jsx)(c.dt,{}),onClick:function(){window.open("/")},children:"New Assignment"})})]})}),(0,s.jsx)(h.p3,{children:r.map((function(e){return(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Td,{fontWeight:"semibold",children:(0,s.jsx)(d.rU,{href:"/admin/assignment_details/"+e.id,children:e.id})}),(0,s.jsx)(h.Td,{children:"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2)+"****@****.com"}),(0,s.jsx)(h.Td,{color:"green.600",fontWeight:"semibold",children:e.subject}),(0,s.jsx)(h.Td,{children:e.quotation}),(0,s.jsx)(h.Td,{children:e.paid}),"Admin"===localStorage.getItem("userRole")?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(h.Td,{color:"External Payment"===e.cp1PaymentId?"red":"green",children:e.cp1PaymentId}),(0,s.jsx)(h.Td,{color:"External Payment"===e.cp2PaymentId?"red":"green",children:e.cp2PaymentId})]}),(0,s.jsx)(h.Td,{children:(0,s.jsx)(a.hU,{icon:(0,s.jsx)(c.pJ,{}),onClick:function(){S(e.id),C()}})})]},e.id)}))})]}),(0,s.jsx)("div",{className:"ShowSideClick active",children:r.map((function(n){return(0,s.jsx)(u.UQ,{defaultIndex:[0],allowMultiple:!0,display:{base:"block",sm:"none",md:"none"},children:(0,s.jsxs)(u.Qd,{p:"0",children:[(0,s.jsx)("h2",{children:(0,s.jsxs)(u.KF,{children:[(0,s.jsx)(d.xu,{flex:"1",textAlign:"left",children:(0,s.jsx)(h.iA,{children:(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Th,{children:"Id"}),(0,s.jsx)(h.Td,{fontWeight:"semibold",children:(0,s.jsx)(d.rU,{href:"/admin/assignment_details/"+n.id,children:n.id})})]})})}),(0,s.jsx)(u.XE,{})]})}),(0,s.jsxs)(u.Hk,{p:0,children:[(0,s.jsx)(e,{}),(0,s.jsx)(h.iA,{variant:"simple",size:"md",children:(0,s.jsx)(h.p3,{children:(0,s.jsx)(h.Tr,{children:(0,s.jsxs)(h.iA,{bgColor:"gray.100",className:"pa-zer",children:[(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Th,{children:"Student Email"}),(0,s.jsx)(h.Td,{children:"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?n.client_id:n.client_id.substring(0,2)+"****@****.com"})]}),(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Th,{children:"Subject"}),(0,s.jsx)(h.Td,{color:"green.600",fontWeight:"semibold",children:n.subject})]}),(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Th,{children:"Order Quote"}),(0,s.jsx)(h.Td,{children:n.quotation})]}),(0,s.jsxs)(h.Tr,{children:[(0,s.jsx)(h.Th,{children:"Amount Paid"}),(0,s.jsx)(h.Td,{children:n.paid})]}),(0,s.jsxs)(h.Tr,{children:["Admin"===localStorage.getItem("userRole")?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(h.Th,{children:"CP1 Payment ID"})]}),"Admin"===localStorage.getItem("userRole")?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(h.Td,{color:"External Payment"===n.cp1PaymentId?"red":"green",children:n.cp1PaymentId})]})]}),(0,s.jsxs)(h.Tr,{children:["Admin"===localStorage.getItem("userRole")?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.Th,{children:"CP2 Payment ID"})}),"Admin"===localStorage.getItem("userRole")?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.Td,{color:"External Payment"===n.cp2PaymentId?"red":"green",children:n.cp2PaymentId})})]}),(0,s.jsx)(h.Tr,{children:(0,s.jsx)(h.Td,{children:(0,s.jsx)(a.hU,{icon:(0,s.jsx)(c.pJ,{}),onClick:function(){S(n.id),C()}})})}),(0,s.jsx)(h.Tr,{children:(0,s.jsx)(h.Th,{children:(0,s.jsx)(a.zx,{className:"btn-Neww",leftIcon:(0,s.jsx)(c.dt,{}),onClick:function(){window.open("/")},children:"New Assignment"})})})]})},n.id)})})]})]})})}))})]})}}}]);