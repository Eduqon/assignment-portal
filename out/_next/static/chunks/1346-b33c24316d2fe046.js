"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1346],{1346:function(e,n,r){r.r(n);var t=r(8520),s=r.n(t),i=r(5893),a=r(7294),c=r(1163),o=r(9736),l=r(2028),d=r(9762),u=r(4612),h=r(5193),p=r(3441),x=r(9042),f=r(8790),m=r(7375),g=r(4090),j=r(9669),w=r.n(j),b=r(6257),k=r(8754),v=r(7388);function y(e,n,r,t,s,i,a){try{var c=e[i](a),o=c.value}catch(l){return void r(l)}c.done?n(o):Promise.resolve(o).then(t,s)}function T(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var i=e.apply(n,r);function a(e){y(i,t,s,a,c,"next",e)}function c(e){y(i,t,s,a,c,"throw",e)}a(void 0)}))}}function C(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function I(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){C(e,n,r[n])}))}return e}function S(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default=function(e){var n=e.incrementCounter,r=e.decrementCounter,t=e.confirmOrderAssignedExpertMessages,j=e.operatorExpertChat,y=function(){var e=(0,a.useState)(""),n=e[0],r=e[1];return(0,i.jsxs)(l.u_,{size:"2xl",onClose:Ce.onClose,isOpen:Ce.isOpen,onOpen:Ce.onOpen,isCentered:!0,children:[(0,i.jsx)(l.ZA,{}),(0,i.jsxs)(l.hz,{children:[(0,i.jsx)(l.xB,{children:"Rework Request"}),(0,i.jsx)(l.ol,{}),(0,i.jsxs)(l.fe,{children:[(0,i.jsxs)(d.NI,{id:"file",children:[(0,i.jsx)(d.lX,{children:"1) Upload File"}),(0,i.jsxs)(u.BZ,{children:[(0,i.jsx)(u.II,{type:"text",isReadOnly:!0,value:ee}),(0,i.jsxs)(u.xW,{children:[(0,i.jsx)(h.zx,{onClick:function(){return V.current.click()},children:(0,i.jsx)(o.Uj,{})}),(0,i.jsx)("input",{type:"file",onChange:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(V.current.files[0].name),e.next=3,Ee(V.current.files[0].name,V.current.files[0]);case 3:case"end":return e.stop()}}),e)}))),ref:V,style:{display:"none"}})]})]})]}),(0,i.jsxs)(u.BZ,{flexDirection:"column",children:[(0,i.jsx)(d.lX,{children:"2) Add Comments For Experts"}),(0,i.jsx)(p.g,{value:n,onChange:function(e){r(e.target.value)}})]})]}),(0,i.jsx)(l.mz,{children:(0,i.jsx)(h.zx,{onClick:function(){de?window.alert("File is still being uploaded"):function(e,n){Te.apply(this,arguments)}(B,n)},children:"Send"})})]})]})},C=function(){return(0,i.jsxs)(l.u_,{size:"2xl",onClose:Re.onClose,isOpen:Re.isOpen,onOpen:Re.onOpen,isCentered:!0,children:[(0,i.jsx)(l.ZA,{}),(0,i.jsxs)(l.hz,{children:[(0,i.jsx)(l.xB,{children:"Submissions"}),(0,i.jsx)(l.ol,{}),(0,i.jsx)(l.fe,{children:(0,i.jsxs)(x.iA,{variant:"simple",size:"sm",children:[(0,i.jsx)(x.hr,{bgColor:"gray.200",children:(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"File"}),(0,i.jsx)(x.Th,{children:"Category"}),(0,i.jsx)(x.Th,{children:"Date"}),(0,i.jsx)(x.Th,{children:"Delivery"}),(0,i.jsx)(x.Th,{children:"Expert ID"})]})}),(0,i.jsx)(x.p3,{children:0===_.length?(0,i.jsx)(i.Fragment,{}):_.map((function(e,n){return(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Td,{maxW:"100px",children:(0,i.jsx)(f.rU,{isExternal:!0,href:e.url,children:e.name})}),(0,i.jsx)(x.Td,{children:e.category}),(0,i.jsx)(x.Td,{children:e.createdAt}),(0,i.jsx)(x.Td,{color:new Date(e.createdAtNF)-new Date(D[B].expertDeadlineNF)<=0?"green":"red",children:new Date(e.createdAtNF)-new Date(D[B].expertDeadlineNF)<=0?"On Time":"Late"}),(0,i.jsx)(x.Td,{children:e.expertId})]},e._id)}))})]})})]})]})},O=function(){return(0,i.jsxs)(l.u_,{size:"lg",onClose:me.onClose,isOpen:me.isOpen,onOpen:me.onOpen,isCentered:!0,children:[(0,i.jsx)(l.ZA,{}),(0,i.jsxs)(l.hz,{maxH:"500px",children:[(0,i.jsx)(l.ol,{}),(0,i.jsx)(l.fe,{children:(0,i.jsxs)(f.xu,{display:"block",borderWidth:"1px",borderRadius:"md",width:"md",children:[(0,i.jsx)(f.xu,{p:4,bgColor:"gray.200",children:(0,i.jsx)(f.Ug,{children:(0,i.jsx)(f.X6,{fontSize:"xl",children:"Operator Chat with Expert"})})}),(0,i.jsxs)(f.gC,{alignItems:"start",justifyContent:"space-between",margin:3,minH:"sm",maxH:"sm",children:[(0,i.jsx)(f.gC,{overflowY:"scroll",alignItems:"start",width:"100%",children:J&&j&&j[J.id]&&j[J.id].map((function(e,n){return(0,i.jsx)(f.xu,{display:"TEXT"===e.type||"MEDIA"===e.type?"flex":"none",alignSelf:e.user===M?"flex-end":"flex-start",flexWrap:!0,padding:2,borderRadius:"md",maxWidth:"70%",bgColor:e.user===M?"blue.100":"green.100",children:(0,i.jsxs)(f.gC,{maxWidth:"100%",overflowWrap:"break-word",children:[(0,i.jsx)(f.xv,{display:"TEXT"===e.type?"flex":"none",maxWidth:"100%",children:e.msg}),(0,i.jsx)(f.rU,{color:"blue",fontWeight:"bold",display:"MEDIA"===e.type?"flex":"none",maxWidth:"100%",href:e.msg,children:e.msg&&e.msg.substring(62)})]})},n)}))}),(0,i.jsxs)(u.BZ,{children:[(0,i.jsx)(u.II,{type:"text",id:"addChatOperatorExpert"}),(0,i.jsx)(u.II,{type:"file",id:"addFileOperatorExpert",onChange:T(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",q){ce();try{r={method:"put",url:"https://assignmentsanta.blob.core.windows.net/assignment-dscp/"+encodeURIComponent(q.current.files[0].name)+"?"+K,headers:{"x-ms-blob-type":"BlockBlob"},data:q.current.files[0]},w()(r).then(function(e){var r=T(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://assignmentsanta.blob.core.windows.net/assignment-dscp/"+encodeURIComponent(q.current.files[0].name),e.next=3,(0,b.r7)((0,b.JU)(v.db,"chat",J.chat[J.chat.length-1].user+"_"+M+"_"+J.id),{conversation:(0,b.vr)({msg:n,time:Date.now(),type:"MEDIA",user:M})});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return r.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}catch(t){console.log(t)}oe()}case 2:case"end":return e.stop()}}),e)}))),ref:q,style:{display:"none"}}),(0,i.jsx)(u.Z8,{h:"full",children:(0,i.jsx)(h.zx,{id:"attachButton",onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.current.click();case 1:case"end":return e.stop()}}),e)}))),children:(0,i.jsx)(o.Uj,{})})}),(0,i.jsx)(u.xH,{h:"full",children:(0,i.jsx)(h.zx,{id:"sendButton",onClick:T(s().mark((function e(){var n,r,t,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userToken"),r=/\b[\+]?[(]?[0-9]{2,6}[)]?[-\s\.]?[-\s\/\.0-9]{3,15}\b/m,""===(t=document.getElementById("addChatOperatorExpert")).value||void 0===t.value){e.next=23;break}if(!r.test(t.value)){e.next=8;break}window.alert("Sharing Phone Numbers through Chat is not allowed"),e.next=23;break;case 8:return e.next=10,(0,b.r7)((0,b.JU)(v.db,"chat",J.chat[J.chat.length-1].user+"_"+M+"_"+J.id),{conversation:(0,b.vr)({msg:t.value,time:Date.now(),type:"TEXT",user:M})});case 10:return e.sent,i={headers:{Authorization:"Bearer ".concat(n)}},e.prev=12,e.next=15,w().post(k.JW+"/messages",{id:J.id,expertEmail:J.chat[J.chat.length-1].user},i);case 15:a=e.sent,a.data.success&&(t.value=""),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[12,20]])}))),children:(0,i.jsx)(o.mr,{})})})]})]})]})})]})]})},A=function(){return(0,i.jsxs)(l.u_,{size:"4xl",onClose:fe.onClose,isOpen:fe.isOpen,onOpen:fe.onOpen,isCentered:!0,children:[(0,i.jsx)(l.ZA,{}),(0,i.jsxs)(l.hz,{children:[(0,i.jsx)(l.xB,{children:"Messages"}),(0,i.jsx)(l.ol,{}),(0,i.jsx)(l.fe,{children:(0,i.jsxs)(x.iA,{variant:"simple",size:"sm",children:[(0,i.jsx)(x.hr,{bgColor:"gray.200",children:(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Id"}),(0,i.jsx)(x.Th,{children:"Expert Email"}),(0,i.jsx)(x.Th,{children:"Messages"}),(0,i.jsx)(x.Th,{})]})}),(0,i.jsx)(x.p3,{children:L&&0===L.length?(0,i.jsx)(i.Fragment,{}):L&&L.map((function(e,n){return(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Td,{children:e.id}),(0,i.jsx)(x.Td,{children:e.chat[e.chat.length-1].user}),(0,i.jsx)(x.Td,{children:e.chat[e.chat.length-1].msg}),(0,i.jsx)(x.Td,{children:(0,i.jsx)(f.Ug,{children:(0,i.jsx)(h.zx,{onClick:T(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be(e);case 2:Qe(e.id);case 3:case"end":return n.stop()}}),n)}))),children:"Reply"})})})]},e.id)}))})]})})]})]})},E=(0,a.useState)([]),D=E[0],R=E[1],z=(0,a.useState)([]),_=z[0],W=z[1],F=(0,a.useState)(),B=F[0],U=F[1],Q=(0,a.useState)([]),J=Q[0],N=Q[1],P=(0,a.useState)(""),M=P[0],Z=P[1],q=(0,a.useRef)(null),X=(0,a.useState)([]),L=X[0],Y=X[1],H=(0,a.useState)(""),K=H[0],G=H[1],V=(0,a.useRef)(null),$=(0,a.useState)(""),ee=$[0],ne=$[1],re=(0,a.useState)(""),te=re[0],se=re[1],ie=(0,m.qY)(),ae=ie.isOpen,ce=ie.onOpen,oe=ie.onClose,le=(0,a.useState)(!1),de=le[0],ue=le[1],he=(0,a.useState)((function(){return new Set})),pe=he[0],xe=he[1],fe=(0,m.qY)(),me=(0,m.qY)(),ge=[],je=[],we=(0,c.useRouter)();function be(e){return ke.apply(this,arguments)}function ke(){return(ke=T(s().mark((function e(n){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("userToken"),t={headers:{Authorization:"Bearer ".concat(r)}},e.next=5,w().post(k.JW+"/expert/remove/ask",{assignmentId:D[n].id},t);case 5:e.sent,window.alert("Operator asked for approval to remove expert"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=T(s().mark((function e(t){var i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=localStorage.getItem("userToken"),a=localStorage.getItem("userEmail"),c={headers:{Authorization:"Bearer ".concat(i)}},e.next=6,w().post(k.JW+"/assignment/update",{_id:D[t].id,status:"Proof Read",sendReworkFrom:"",assignedQC:a},c);case 6:return e.sent,e.next=9,w().post(k.JW+"/notifications",{assignmentId:D[t].id,status:"Proof Read",read:!1},c);case 9:e.sent,n("Proof Read"),r("Raw Submission"),We(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function Te(){return(Te=T(s().mark((function e(t,i){var a,c,o,l,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userEmail"),c=localStorage.getItem("userName"),""!==i){e.next=6;break}window.alert("Add a comment"),e.next=55;break;case 6:if(""!==te){e.next=30;break}return e.prev=7,o=localStorage.getItem("userToken"),l={headers:{Authorization:"Bearer ".concat(o)}},e.next=12,w().post(k.JW+"/assignment/update",{_id:D[t].id,status:"Internal Rework",assignedQC:a},l);case 12:return e.sent,e.next=15,w().post(k.JW+"/notifications",{assignmentId:D[t].id,status:"Internal Rework",read:!1},l);case 15:return e.sent,n("Internal Rework"),r("Raw Submission"),e.next=20,w().post(k.JW+"/assignment/comments/QCToExpert",{assignmentId:D[t].id,expertId:D[t].assignedExpert,commentsFromQC:{_id:a,name:c,comment:i}},l);case 20:e.sent,We(),Ce.onClose(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(7),console.log(e.t0);case 28:e.next=55;break;case 30:return e.prev=30,d=localStorage.getItem("userToken"),u={headers:{Authorization:"Bearer ".concat(d)}},xe((function(e){return new Set(e).add(D[t].id)})),e.next=36,w().post(k.JW+"/assignment/update",{_id:D[t].id,status:"Internal Rework",assignedQC:a,sendReworkFrom:"Raw Submission"},u);case 36:return e.sent,e.next=39,w().post(k.JW+"/notifications",{assignmentId:D[t].id,status:"Internal Rework",read:!1},u);case 39:return e.sent,n("Internal Rework"),r("Raw Submission"),e.next=44,w().post(k.JW+"/assignment/comments/QCToExpert",{assignmentId:D[t].id,expertId:D[t].assignedExpert,commentsFromQC:{_id:a,name:c,comment:te}},u);case 44:return e.sent,e.next=47,w().post(k.JW+"/assignment/comments/QCToExpert",{assignmentId:D[t].id,expertId:D[t].assignedExpert,commentsFromQC:{_id:a,name:c,comment:i}},u);case 47:e.sent,We(),Ce.onClose(),e.next=55;break;case 52:e.prev=52,e.t1=e.catch(30),console.log(e.t1);case 55:case"end":return e.stop()}}),e,null,[[7,25],[30,52]])})))).apply(this,arguments)}var Ce=(0,m.qY)();function Ie(e){return Se.apply(this,arguments)}function Se(){return(Se=T(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(n),ne(""),se(""),Ce.onOpen();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return Ae.apply(this,arguments)}function Ae(){return(Ae=T(s().mark((function e(){var n,r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userEmail"),Z(n),e.prev=2,e.next=5,w().get(k.JW+"/util/sas-token?container_name=assignment-dscp");case 5:r=e.sent,(t=r.data).success&&G(t.SASToken),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function Ee(e,n){return De.apply(this,arguments)}function De(){return(De=T(s().mark((function e(n,r){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(!0),t=r,i={method:"put",url:"https://assignmentsanta.blob.core.windows.net/assignment-dscp/"+encodeURIComponent(n)+"?"+K,headers:{"x-ms-blob-type":"BlockBlob"},data:t},w()(i).then((function(e){se("https://assignmentsanta.blob.core.windows.net/assignment-dscp/"+encodeURIComponent(n)),ue(!1)})).catch((function(e){console.log(e),ue(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=(0,m.qY)();function ze(e){return _e.apply(this,arguments)}function _e(){return(_e=T(s().mark((function e(n){var r,t,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(n),e.prev=1,null==(r=localStorage.getItem("userToken"))&&we.replace("/admin/login"),t={headers:{Authorization:"Bearer ".concat(r)}},e.next=7,w().get(k.JW+"/assignment/submissions/fetch?assignment_id="+D[n].id,t);case 7:return i=e.sent,e.next=10,i.data.result.workSubmissions;case 10:if(a=e.sent,je=[],0!==a.length)for(c=0;c<a.length;c++)je.push({_id:a[c]._id,name:a[c].name,url:a[c].url,category:a[c].category,createdAt:new Date(a[c].createdAt).toLocaleTimeString()+", "+new Date(a[c].createdAt).toDateString(),createdAtNF:a[c].createdAt,expertId:a[c].expertId});else window.alert("No Submissions Found");W(je),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:Re.onOpen();case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function We(){return Fe.apply(this,arguments)}function Fe(){return(Fe=T(s().mark((function e(){var n,r,t,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==(n=localStorage.getItem("userToken"))&&we.replace("/admin/login"),r={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,w().get(k.JW+"/assignment/fetch?status=Raw%20Submission",r);case 6:if(t=e.sent,i=t.data.assignmentData,ge=[],0===i.length){e.next=15;break}for(a=0;a<i.length;a++)ge.push({id:i[a]._id,assignedExpert:i[a].assignedExpert,assignedQC:i[a].assignedQC,client_id:i[a].client_id,subject:i[a].subject,status:i[a].status,quotation:i[a].quotation,currencyOfQuote:i[a].currencyOfQuote,level:i[a].level,reference:i[a].reference,description:i[a].description,descriptionFile:i[a].descriptionFile,numOfPages:i[a].numOfPages,paid:i[a].paid,deadline:new Date(i[a].deadline).toLocaleTimeString()+", "+new Date(i[a].deadline).toDateString(),expertDeadline:new Date(i[a].expertDeadline).toLocaleTimeString()+", "+new Date(i[a].expertDeadline).toDateString(),expertDeadlineNF:i[a].expertDeadline,retryCount:i[a].retryCount});return e.next=13,Oe();case 13:e.next=16;break;case 15:console.log("No Raw Submission Orders");case 16:R(ge),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function Be(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=T(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null==localStorage.getItem("userToken")&&we.replace("/admin/login")}catch(r){console.log(r)}N(n),me.onOpen();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return Je.apply(this,arguments)}function Je(){return(Je=T(s().mark((function e(n){var r,t,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==(r=localStorage.getItem("userToken"))&&we.replace("/admin/login"),{headers:{Authorization:"Bearer ".concat(r)}},!j[n]){e.next=11;break}return t=j[n].slice(),i=t.pop(),a=localStorage.getItem("userEmail"),e.next=10,(0,b.r7)((0,b.JU)(v.db,"chat",i.user+"_"+a+"_"+n),{conversation:S(t).concat([I({},i,{newMessageCount:0})])});case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Ne(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=T(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(n),e.next=3,t.filter((function(e){return D[n].id===e.id}));case 3:r=e.sent,Y(r),fe.onOpen();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){We()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsxs)(l.u_,{closeOnOverlayClick:!1,isOpen:ae,onClose:oe,children:[(0,i.jsx)(l.ZA,{}),(0,i.jsxs)(l.hz,{children:[(0,i.jsx)(l.xB,{children:"File Upload"}),(0,i.jsx)(l.ol,{}),(0,i.jsx)(l.fe,{pb:6,children:"File is being uploaded, please wait.."})]})]}),(0,i.jsx)(A,{}),(0,i.jsx)(O,{}),(0,i.jsx)(C,{}),(0,i.jsx)(y,{}),(0,i.jsxs)(x.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,i.jsx)(x.hr,{bgColor:"gray.200",children:(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Id"}),(0,i.jsx)(x.Th,{children:"Subject"}),(0,i.jsx)(x.Th,{children:"Deadline"}),(0,i.jsx)(x.Th,{children:"Expert Deadline"}),(0,i.jsx)(x.Th,{children:"Assigned Expert"}),(0,i.jsx)(x.Th,{children:"Assigned QC"}),(0,i.jsx)(x.Th,{children:(0,i.jsx)(h.zx,{leftIcon:(0,i.jsx)(o.ny,{}),onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:case"end":return e.stop()}}),e)}))),children:"Refresh"})})]})}),(0,i.jsx)(x.p3,{children:D.map((function(e,n){return(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Td,{fontWeight:"semibold",paddingTop:9,children:(0,i.jsxs)(f.xu,{display:"flex",children:[(0,i.jsxs)(f.rU,{href:"/admin/assignment_details/"+e.id,children:[e.id,"\xa0"]}),t&&0!==t.length&&t.map((function(r){if(r.id===e.id&&r.chat&&0!==r.chat[r.chat.length-1].newMessageCount)return(0,i.jsxs)(f.xu,{display:"flex",alignItems:"center",position:"relative",marginLeft:2,cursor:"pointer",onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne(n));case 1:case"end":return e.stop()}}),e)}))),children:[(0,i.jsx)(o.kB,{width:"1.5em",height:"1.5em"}),(0,i.jsx)(f.xu,{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:15,backgroundColor:"rgb(201, 105, 105)",marginLeft:2,width:5,height:5,color:"white",position:"absolute",right:"-10px",top:"-5px",children:r.chat&&r.chat[r.chat.length-1].newMessageCount})]})})),e.retryCount>1&&(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-center border-set",style:{width:"20px",height:"20px",border:"1px solid",borderRadius:"50px",fontSize:"12px"},children:["R",e.retryCount-1]})]})}),(0,i.jsx)(x.Td,{color:"green.600",fontWeight:"semibold",children:e.subject}),(0,i.jsx)(x.Td,{color:"red.600",fontWeight:"semibold",children:e.deadline}),(0,i.jsx)(x.Td,{color:"red.600",fontWeight:"semibold",children:e.expertDeadline}),(0,i.jsx)(x.Td,{children:e.assignedExpert}),(0,i.jsx)(x.Td,{children:e.assignedQC}),(0,i.jsx)(x.Td,{children:(0,i.jsxs)(f.Ug,{children:[(0,i.jsx)(h.zx,{onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze(n));case 1:case"end":return e.stop()}}),e)}))),children:"Submissions from Experts"}),(0,i.jsx)(h.zx,{onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(n));case 1:case"end":return e.stop()}}),e)}))),children:"Mark as Proof Read"}),(0,i.jsx)(f.kC,{children:(0,i.jsx)(f.Ug,{flexDirection:"column",gap:2,children:(0,i.jsx)(h.zx,{color:"red",onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ie(n));case 1:case"end":return e.stop()}}),e)}))),disabled:pe.has(e.id),children:pe.has(e.id)?"Asked for Rework":"Send for Rework"})})}),(0,i.jsx)(h.zx,{color:"red",onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be(n));case 1:case"end":return e.stop()}}),e)}))),children:"Remove Expert"})]})})]},e.id)}))})]})]}),(0,i.jsx)("div",{className:"ShowSideClick",children:D.map((function(e,n){return(0,i.jsx)(g.UQ,{defaultIndex:[0],allowMultiple:!0,display:{base:"block",sm:"none",md:"none"},children:(0,i.jsxs)(g.Qd,{children:[(0,i.jsx)("h2",{children:(0,i.jsxs)(g.KF,{children:[(0,i.jsx)(f.xu,{flex:"1",textAlign:"left",children:(0,i.jsx)(x.iA,{children:(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Id"}),(0,i.jsx)(x.Td,{fontWeight:"semibold",children:(0,i.jsx)(f.rU,{href:"/admin/assignment_details/"+e.id,children:e.id})})]})})}),(0,i.jsx)(g.XE,{})]})}),(0,i.jsxs)(g.Hk,{pb:4,children:[(0,i.jsxs)(l.u_,{closeOnOverlayClick:!1,isOpen:ae,onClose:oe,children:[(0,i.jsx)(l.ZA,{}),(0,i.jsxs)(l.hz,{children:[(0,i.jsx)(l.xB,{children:"File Upload"}),(0,i.jsx)(l.ol,{}),(0,i.jsx)(l.fe,{pb:6,children:"File is being uploaded, please wait.."})]})]}),(0,i.jsx)(C,{}),(0,i.jsx)(y,{}),(0,i.jsxs)(x.iA,{variant:"simple",size:"md",children:[(0,i.jsx)(x.hr,{bgColor:"gray.200"}),(0,i.jsx)(x.p3,{children:(0,i.jsx)(x.Tr,{children:(0,i.jsxs)(x.iA,{children:[(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Subject"}),(0,i.jsx)(x.Td,{color:"green.600",fontWeight:"semibold",children:e.subject})]}),(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Deadline"}),(0,i.jsx)(x.Td,{color:"red.600",fontWeight:"semibold",children:e.deadline})]}),(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Expert Deadline"}),(0,i.jsx)(x.Td,{color:"red.600",fontWeight:"semibold",children:e.expertDeadline})]}),(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Assigned Expert"}),(0,i.jsx)(x.Td,{children:e.assignedExpert})]}),(0,i.jsxs)(x.Tr,{children:[(0,i.jsx)(x.Th,{children:"Assigned QC"}),(0,i.jsx)(x.Td,{children:e.assignedQC})]}),(0,i.jsx)(x.Tr,{children:(0,i.jsx)(x.Td,{p:0,children:(0,i.jsx)(f.Ug,{children:(0,i.jsxs)(x.iA,{children:[(0,i.jsx)(x.Tr,{children:(0,i.jsx)(x.Td,{pl:0,pr:0,children:(0,i.jsx)(h.zx,{onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze(n));case 1:case"end":return e.stop()}}),e)}))),children:"Submissions from Experts"})})}),(0,i.jsx)(x.Tr,{children:(0,i.jsx)(x.Td,{pl:0,pr:0,children:(0,i.jsx)(h.zx,{onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(n));case 1:case"end":return e.stop()}}),e)}))),children:"Mark as Proof Read"})})}),(0,i.jsx)(x.Tr,{children:(0,i.jsx)(x.Td,{pl:0,pr:0,children:(0,i.jsx)(h.zx,{color:"red",onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ie(n));case 1:case"end":return e.stop()}}),e)}))),children:"Send for Rework"})})}),(0,i.jsx)(x.Tr,{children:(0,i.jsx)(x.Td,{pl:0,pr:0,children:(0,i.jsx)(h.zx,{color:"red",onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be(n));case 1:case"end":return e.stop()}}),e)}))),children:"Remove Expert"})})})]})})})}),(0,i.jsx)(x.Tr,{children:(0,i.jsx)(x.Th,{children:(0,i.jsx)(h.zx,{leftIcon:(0,i.jsx)(o.ny,{}),onClick:T(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:case"end":return e.stop()}}),e)}))),children:"Refresh"})})})]})},e.id)})]})]})]})})}))})]})}},7388:function(e,n,r){r.d(n,{db:function(){return a}});r(8520);var t=r(5503),s=r(6257);var i=(0,t.ZF)({apiKey:"AIzaSyDni_CDXk80T4e4DbmAdxPejk6K8gl1_BE",authDomain:"assignment-santa.firebaseapp.com",projectId:"assignment-santa",storageBucket:"assignment-santa.appspot.com",messagingSenderId:"697591868119",appId:"1:697591868119:web:ab0da28fc783e036ab1e92"}),a=(0,s.ad)(i)}}]);