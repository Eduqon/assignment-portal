"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8925],{8925:function(e,n,t){t.r(n);var r=t(8520),s=t.n(r),o=t(5893),a=t(2028),i=t(1391),l=t(9042),c=t(8133),d=t(5193),u=t(8790),x=t(7375),p=t(9762),h=t(4612),g=t(3441),m=t(4090),f=t(9669),j=t.n(f),v=t(7294),S=t(8756),b=t(9736),k=t(1163);function I(e,n,t,r,s,o,a){try{var i=e[o](a),l=i.value}catch(c){return void t(c)}i.done?n(l):Promise.resolve(l).then(r,s)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var o=e.apply(n,t);function a(e){I(o,r,s,a,i,"next",e)}function i(e){I(o,r,s,a,i,"throw",e)}a(void 0)}))}}n.default=function(e){var n=e.incrementCounter,t=e.decrementCounter,r=function(){var e=[];return(0,o.jsxs)(a.u_,{size:"xl",onClose:H.onClose,isOpen:H.isOpen,onOpen:H.onOpen,isCentered:!0,children:[(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{maxH:"500px",overflowY:"scroll",children:[(0,o.jsx)(a.xB,{children:"Choose Expert"}),(0,o.jsx)(a.ol,{}),(0,o.jsxs)(a.fe,{children:[(0,o.jsxs)(i.Ph,{onChange:w(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(n.target.value);case 2:case"end":return e.stop()}}),e)}))),id:"subject",children:[(0,o.jsx)("option",{value:"",children:"All Subjects"}),0===D.length?(0,o.jsx)(o.Fragment,{}):D.map((function(e,n){return(0,o.jsx)("option",{value:e._id,children:e._id},n)}))]}),(0,o.jsxs)(l.iA,{marginTop:2,variant:"simple",size:"sm",children:[(0,o.jsx)(l.hr,{bgColor:"gray.200",children:(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"ID"}),(0,o.jsx)(l.Th,{children:"Name"}),(0,o.jsx)(l.Th,{children:"Subject"}),(0,o.jsx)(l.Th,{})]})}),(0,o.jsx)(l.p3,{children:0===_.length?(0,o.jsx)(o.Fragment,{}):_.map((function(n,t){return(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Td,{fontWeight:"semibold",children:n._id}),(0,o.jsx)(l.Td,{children:n.name}),(0,o.jsx)(l.Td,{children:n.subject}),(0,o.jsx)(l.Td,{children:(0,o.jsx)(c.XZ,{className:"expertCheckBox",value:n._id,onChange:function(n){n.target.checked?e.push(n.target.value):e.splice(e.indexOf(n.target.value))}})})]},n._id)}))})]})]}),(0,o.jsxs)(a.mz,{children:[(0,o.jsx)(d.zx,{onClick:w(s().mark((function n(){var t,r,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(t=localStorage.getItem("userToken"))&&P.replace("/admin/login"),r={headers:{Authorization:"Bearer ".concat(t)}},n.prev=3,n.next=6,j().post(S.JW+"/expert/quote/ask",{expertIds:e,assignmentId:A[M].id},r);case 6:o=n.sent,o.data.success&&(window.alert("Quotation Asked"),H.onClose(),G()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])}))),children:"Send Request"}),(0,o.jsx)(u.LZ,{})]})]})]})},f=function(){var e=[];return(0,o.jsxs)(a.u_,{size:"xl",onClose:re.onClose,isOpen:re.isOpen,onOpen:re.onOpen,isCentered:!0,children:[(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{maxH:"500px",overflowY:"scroll",children:[(0,o.jsx)(a.xB,{children:"Choose Expert"}),(0,o.jsx)(a.ol,{}),(0,o.jsxs)(a.fe,{children:[(0,o.jsxs)(i.Ph,{onChange:w(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(n.target.value);case 2:case"end":return e.stop()}}),e)}))),id:"subject",children:[(0,o.jsx)("option",{value:"",children:"All Subjects"}),0===D.length?(0,o.jsx)(o.Fragment,{}):D.map((function(e,n){return(0,o.jsx)("option",{value:e._id,children:e._id},n)}))]}),(0,o.jsxs)(l.iA,{marginTop:2,variant:"simple",size:"sm",children:[(0,o.jsx)(l.hr,{bgColor:"gray.200",children:(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"ID"}),(0,o.jsx)(l.Th,{children:"Name"}),(0,o.jsx)(l.Th,{children:"Subject"}),(0,o.jsx)(l.Th,{})]})}),(0,o.jsx)(l.p3,{children:0===_.length?(0,o.jsx)(o.Fragment,{}):_.map((function(n,t){return(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Td,{fontWeight:"semibold",children:n._id}),(0,o.jsx)(l.Td,{children:n.name}),(0,o.jsx)(l.Td,{children:n.subject}),(0,o.jsx)(l.Td,{children:(0,o.jsx)(c.XZ,{className:"expertCheckBox",value:n._id,onChange:function(n){n.target.checked?e.push(n.target.value):e.splice(e.indexOf(n.target.value))}})})]},n._id)}))})]})]}),(0,o.jsxs)(a.mz,{children:[(0,o.jsx)(d.zx,{onClick:w(s().mark((function n(){var t,r,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(t=localStorage.getItem("userToken"))&&P.replace("/admin/login"),r={headers:{Authorization:"Bearer ".concat(t)}},n.prev=3,n.next=6,j().post(S.JW+"/expert/assignment/ask/doable",{expertId:e,assignmentId:A[M].id},r);case 6:o=n.sent,o.data.success&&(window.alert("Doable Asked"),re.onClose(),G()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])}))),children:"Send Request"}),(0,o.jsx)(u.LZ,{})]})]})]})},I=function(){var e=(0,x.qY)();function n(){return(n=w(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ae=t,e.onOpen();case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function t(){var n=(0,v.useState)(""),t=n[0],r=n[1],i=(0,v.useState)(""),l=i[0],c=i[1];return(0,o.jsxs)(a.u_,{size:"2xl",onClose:e.onClose,isOpen:e.isOpen,onOpen:e.onOpen,isCentered:!0,children:[(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{children:[(0,o.jsx)(a.xB,{id:"assId",children:void 0!==le[ae]?"Expert Quotation: "+le[ae].cost:""}),(0,o.jsx)(a.ol,{}),(0,o.jsxs)(a.fe,{children:[(0,o.jsxs)(p.NI,{padding:2,id:"expertDeadline",children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Set Expert Deadline"}),(0,o.jsxs)(u.Ug,{children:[(0,o.jsx)(h.II,{type:"date",id:"date"}),(0,o.jsx)(h.II,{type:"time",id:"time"})]})]}),(0,o.jsxs)(p.NI,{h:"full",padding:2,id:"quote",children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Enter Quotation"}),(0,o.jsxs)(h.BZ,{children:[(0,o.jsx)(h.Ui,{children:(0,o.jsx)(u.xv,{fontWeight:"bold",children:"INR"})}),(0,o.jsx)(h.II,{type:"number",value:t,onChange:function(){var e=document.getElementById("quote");r(e.value)}})]})]}),(0,o.jsxs)(p.NI,{h:"full",padding:2,children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Note From Operator"}),(0,o.jsx)(g.g,{id:"note",value:l,onChange:function(e){c(e.target.value)}})]})]}),(0,o.jsxs)(a.mz,{children:[(0,o.jsx)(u.LZ,{}),(0,o.jsx)(d.zx,{onClick:w(s().mark((function n(){var r,o,a,i,c,d,u,x,p,h,g,m,f,v,b,k;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=localStorage.getItem("userEmail"),o=localStorage.getItem("userName"),null==(a=localStorage.getItem("userToken"))&&P.replace("/admin/login"),i={headers:{Authorization:"Bearer ".concat(a)}},c=document.getElementById("date"),d=document.getElementById("time"),n.next=10,c.value.split("-");case 10:return u=n.sent,x=u[0],p=u[1],h=u[2],n.next=16,d.value.split(":");case 16:if(g=n.sent,m=g[0],f=g[1],v=new Date(x,p-1,h,m,f,0),b=v.toISOString(),void 0===d.value||""===t){n.next=39;break}return n.next=24,j().post(S.JW+"/assignment/update",{_id:A[M].id,expertDeadline:b},i);case 24:return n.sent,n.next=27,j().post(S.JW+"/assignment/comments/operatorToExpert",{assignmentId:A[M].id,notesFromOperator:{_id:r,name:o,comment:l}},i);case 27:return n.sent,n.next=30,j().post(S.JW+"/assignment/quote/generate",{_id:A[M].id,quotation:t,cp1:t/2},i);case 30:if(k=n.sent,!k.data.success){n.next=37;break}return n.next=35,G();case 35:window.alert("Quote Generated"),e.onClose();case 37:n.next=40;break;case 39:window.alert("Fill Up Quote & Set Deadline Time");case 40:n.next=45;break;case 42:n.prev=42,n.t0=n.catch(0),console.log(n.t0);case 45:case"end":return n.stop()}}),n,null,[[0,42]])}))),children:"Send Quote"})]})]})]})}return(0,o.jsxs)(a.u_,{size:"4xl",onClose:ue.onClose,isOpen:ue.isOpen,onOpen:ue.onOpen,isCentered:!0,children:[(0,o.jsx)(t,{}),(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{children:[(0,o.jsx)(a.xB,{children:"Quotations"}),(0,o.jsx)(a.ol,{}),(0,o.jsx)(a.fe,{children:(0,o.jsxs)(l.iA,{variant:"simple",size:"sm",children:[(0,o.jsx)(l.hr,{bgColor:"gray.200",children:(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"Name"}),(0,o.jsx)(l.Th,{children:"Word Count"}),(0,o.jsx)(l.Th,{children:"Currency"}),(0,o.jsx)(l.Th,{children:"Quotation"}),(0,o.jsx)(l.Th,{children:"Comments"}),(0,o.jsx)(l.Th,{})]})}),(0,o.jsx)(l.p3,{children:0===le.length?(0,o.jsx)(o.Fragment,{}):le.map((function(e,t){return(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Td,{children:e.name}),(0,o.jsx)(l.Td,{children:e.wordCount}),(0,o.jsx)(l.Td,{children:e.currency}),(0,o.jsx)(l.Td,{children:e.cost}),(0,o.jsx)(l.Td,{maxW:"300px",children:e.comments}),(0,o.jsx)(l.Td,{children:(0,o.jsx)(u.Ug,{children:(0,o.jsx)(d.zx,{onClick:function(){!function(e){n.apply(this,arguments)}(t)},children:"Select Quote"})})})]},e._id)}))})]})})]})]})},y=function(){return(0,o.jsxs)(a.u_,{size:"xl",onClose:je.onClose,isOpen:je.isOpen,onOpen:je.onOpen,isCentered:!0,children:[(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{children:[(0,o.jsx)(a.xB,{children:"Responses"}),(0,o.jsx)(a.ol,{}),(0,o.jsx)(a.fe,{children:(0,o.jsxs)(l.iA,{variant:"simple",size:"sm",children:[(0,o.jsx)(l.hr,{bgColor:"gray.200",children:(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"ID"}),(0,o.jsx)(l.Th,{children:"Response"})]})}),(0,o.jsx)(l.p3,{children:0===ge.length?(0,o.jsx)(o.Fragment,{}):ge.map((function(e,n){return(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Td,{children:e._id}),(0,o.jsx)(l.Td,{children:e.doable})]},n)}))})]})})]})]})},C=function(){var e=(0,v.useState)(""),r=e[0],i=e[1],l=(0,v.useState)(""),x=l[0],m=l[1],f=(0,v.useState)(!1),b=f[0],k=f[1],I=(0,v.useState)(""),y=I[0],C=I[1],T=(0,v.useState)(!1),R=T[0],O=T[1],_=(0,v.useRef)(null),z=(0,v.useState)(""),W=z[0],D=z[1],E=(0,v.useState)(" "),F=E[0],Q=(E[1],(0,v.useState)("")),N=Q[0],q=Q[1];return(0,o.jsxs)(a.u_,{onClose:Re,isOpen:Te,isCentered:!0,children:[(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{children:[(0,o.jsx)(a.xB,{id:"assId",children:0===A.length?"":ke._id}),(0,o.jsx)(a.ol,{}),(0,o.jsxs)(a.fe,{children:[(0,o.jsxs)(u.Ug,{padding:2,children:[(0,o.jsx)(u.xv,{fontWeight:"bold",children:"Student ID:"}),(0,o.jsx)(u.xv,{children:0===A.length?"":ke.client_id})]}),(0,o.jsxs)(u.Ug,{padding:2,children:[(0,o.jsx)(u.xv,{fontWeight:"bold",children:"Subject:"}),(0,o.jsx)(u.xv,{children:0===A.length?"":ke.subject})]}),(0,o.jsxs)(u.gC,{padding:2,alignItems:"left",children:[(0,o.jsx)(u.xv,{fontWeight:"bold",children:"Description:"}),(0,o.jsx)(g.g,{contentEditable:!1,onChange:function(){},value:0===A.length?"":" "==F?ke.description:F,children:ke.description})]}),(0,o.jsxs)(u.Ug,{padding:2,children:[(0,o.jsx)(u.xv,{fontWeight:"bold",children:"Level:"}),(0,o.jsx)(u.xv,{children:0===A.length?"":ke.level})]}),(0,o.jsxs)(u.Ug,{padding:2,children:[(0,o.jsx)(u.xv,{fontWeight:"bold",children:"Reference:"}),(0,o.jsx)(u.xv,{children:0===A.length?"":ke.reference})]}),(0,o.jsxs)(u.Ug,{padding:2,children:[(0,o.jsx)(u.xv,{fontWeight:"bold",children:"Pages:"}),(0,o.jsx)(u.xv,{children:0===A.length?"":ke.numOfPages})]}),(0,o.jsx)(u.gC,{padding:2,alignItems:"left"}),(0,o.jsxs)(p.NI,{padding:2,id:"expertDeadline",children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Set Expert Deadline"}),(0,o.jsxs)(u.Ug,{children:[(0,o.jsx)(h.II,{type:"date",id:"date",onChange:function(e){D(e.target.value)}}),(0,o.jsx)(h.II,{type:"time",id:"time",onChange:function(e){q(e.target.value)}})]})]}),(0,o.jsxs)(p.NI,{h:"full",padding:2,id:"quote",children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Enter Quotation"}),(0,o.jsxs)(h.BZ,{children:[(0,o.jsx)(h.Ui,{children:(0,o.jsx)(u.xv,{fontWeight:"bold",children:"INR"})}),(0,o.jsx)(h.II,{type:"number",value:r,onChange:function(e){i(e.target.value)}})]})]}),(0,o.jsxs)(p.NI,{h:"full",padding:2,children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Note From Operator"}),(0,o.jsx)(g.g,{id:"note",value:y,onChange:function(e){C(e.target.value)}})]}),(0,o.jsx)(c.XZ,{isChecked:b,value:b,onChange:function(e){k(e.target.checked)},padding:2,spacing:"5",fontWeight:"bold",children:"Set Custom CP1 Value"}),(0,o.jsxs)(p.NI,{display:b&&!R?"block":"none",h:"full",padding:2,id:"cp1",children:[(0,o.jsx)(p.lX,{fontWeight:"bold",children:"Enter Custom CP1"}),(0,o.jsxs)(h.BZ,{children:[(0,o.jsx)(h.Ui,{children:(0,o.jsx)(u.xv,{fontWeight:"bold",children:"INR"})}),(0,o.jsx)(h.II,{type:"number",value:x,onChange:function(e){m(e.target.value)}})]})]}),(0,o.jsx)(c.XZ,{isChecked:R,value:R,onChange:function(e){O(e.target.checked)},padding:2,spacing:"5",fontWeight:"bold",children:"External Payment"}),(0,o.jsx)(h.BZ,{children:(0,o.jsx)(h.II,{type:"file",id:"addFileStickyNotes",ref:_,onChange:function(){var e="";if(_){window.alert("Uploading");try{var n={method:"put",url:"https://assignmentsanta.blob.core.windows.net/assignment-dscp/"+encodeURIComponent(_.current.files[0].name)+"?"+B,headers:{"x-ms-blob-type":"BlockBlob"},data:_.current.files[0]};j()(n).then(function(n){var t=w(s().mark((function n(t){var r,o,a,i,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e="https://assignmentsanta.blob.core.windows.net/assignment-dscp/"+encodeURIComponent(_.current.files[0].name),r=localStorage.getItem("userToken"),o=localStorage.getItem("userEmail"),a=localStorage.getItem("userName"),i={headers:{Authorization:"Bearer ".concat(r)}},""!==e){n.next=9;break}window.alert("Attachment cannot be empty"),n.next=19;break;case 9:return n.next=11,j().post(S.JW+"/assignment/comments/operatorToExpert",{assignmentId:ke._id,notesFromOperator:{_id:o,name:a,comment:e}},i);case 11:if(!(l=n.sent).data.success){n.next=18;break}return n.next=15,j().post(S.JW+"/assignment/comments/operatorToExpert",{assignmentId:ke._id,notesFromOperator:{_id:o,name:a,comment:"Payment File Sent Above"}},i);case 15:window.alert("".concat(_.current.files[0].name," has been added to sticky notes, fill other details and submit")),n.next=19;break;case 18:console.log(l);case 19:case"end":return n.stop()}}),n)})));return function(){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}catch(t){console.log(t)}}},style:{display:"none"}})}),(0,o.jsx)(d.zx,{id:"attachButton",w:"100%",display:R?"block":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.current.click();case 1:case"end":return e.stop()}}),e)}))),children:"Attach Payment File"})]}),(0,o.jsxs)(a.mz,{children:[(0,o.jsx)(u.LZ,{}),(0,o.jsx)(d.zx,{onClick:w(s().mark((function e(){var o,a,i,l,c,d,u,p,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=localStorage.getItem("userEmail"),a=localStorage.getItem("userName"),null==(i=localStorage.getItem("userToken"))&&P.replace("/admin/login"),l={headers:{Authorization:"Bearer ".concat(i)}},document.getElementById("date"),c=document.getElementById("time"),d=W.split("-"),d[0],d[1],d[2],u=N.split(":"),u[0],u[1],void 0===c.value||""===r){e.next=51;break}if(!R){e.next=29;break}return e.prev=17,e.next=20,j().post(S.JW+"/assignment/update",{_id:ke._id,status:"CP1 Done",quotation:r,paid:r,cp1PaymentId:"External Payment",cp2PaymentId:"External Payment",description:F},l);case 20:e.sent,Re(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(17),console.log(e.t0);case 27:e.next=49;break;case 29:return e.next=31,j().post(S.JW+"/assignment/update",{_id:ke._id},l);case 31:return e.sent,e.next=34,j().post(S.JW+"/assignment/comments/operatorToExpert",{assignmentId:ke._id,notesFromOperator:{_id:o,name:a,comment:y}},l);case 34:return e.sent,e.next=37,j().post(S.JW+"/assignment/quote/generate",{_id:ke._id,quotation:r,cp1:""===x?r/2:x},l);case 37:return p=e.sent,h=p.data,e.next=41,j().post(S.JW+"/notifications",{assignmentId:ke._id,status:"CP1 Pending",read:!1},l);case 41:if(e.sent,n("CP1 Pending"),t("Fresh Order"),!h.success){e.next=49;break}return e.next=47,G();case 47:window.alert("Quote Generated"),Re();case 49:e.next=52;break;case 51:window.alert("Fill Up Quote & Set Deadline Time");case 52:e.next=58;break;case 54:e.prev=54,e.t1=e.catch(0),alert(e.t1),console.log(e.t1);case 58:case"end":return e.stop()}}),e,null,[[0,54],[17,24]])}))),children:"Send Quote"})]})]})]})},T=(0,v.useState)([]),A=T[0],R=T[1],O=(0,v.useState)([]),_=O[0],z=O[1],W=(0,v.useState)([]),D=W[0],E=W[1],F=(0,v.useState)(),Q=(F[0],F[1],(0,v.useState)("")),B=Q[0],N=Q[1],P=(0,k.useRouter)(),q=[],U=[];function J(){return Z.apply(this,arguments)}function Z(){return(Z=w(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get(S.JW+"/util/sas-token?container_name=assignment-dscp");case 3:n=e.sent,(t=n.data).success&&N(t.SASToken),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function X(){return L.apply(this,arguments)}function L(){return(L=w(s().mark((function e(){var n,t,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().get(S.JW+"/util/subject/fetch");case 3:return n=e.sent,e.next=6,n.data.res;case 6:if(t=e.sent,r=[],0!==t.length)for(o=0;o<t.length;o++)r.push({_id:t[o]._id});else console.log("No Subjects Found");E(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function G(){return Y.apply(this,arguments)}function Y(){return(Y=w(s().mark((function e(){var n,t,r,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==(n=localStorage.getItem("userToken"))&&P.replace("/admin/login"),t={headers:{Authorization:"Bearer ".concat(n)}},e.next=6,j().post(S.JW+"/assignment/fetch",{status:{$in:["Fresh Order","Quotation Asked","Doability Asked"]}},t);case 6:return r=e.sent,e.next=9,r.data.assignmentData;case 9:if(o=e.sent,console.warn("data fresh order",o),q=[],0===o.length){e.next=20;break}for(a=0;a<o.length;a++)q.push({id:o[a]._id,client_id:o[a].client_id,subject:o[a].subject,status:o[a].status,quotation:o[a].quotation,currencyOfQuote:o[a].currencyOfQuote,level:o[a].level,reference:o[a].reference,description:o[a].description,descriptionFile:o[a].descriptionFile,numOfPages:o[a].numOfPages,paid:o[a].paid,deadline:new Date(o[a].deadline).toLocaleTimeString()+", "+new Date(o[a].deadline).toDateString()});return e.next=16,X();case 16:return e.next=18,J();case 18:e.next=21;break;case 20:console.log("No Fresh Orders");case 21:R(q),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}(0,v.useEffect)((function(){G()}),[]);var H=(0,x.qY)(),K=(0,v.useState)(),M=K[0],V=K[1];function $(e){return ee.apply(this,arguments)}function ee(){return(ee=w(s().mark((function e(n){var t,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn(n,"subject data is here"),e.prev=1,e.next=4,j().post(S.JW+"/expert/fetch",""===n?{}:{subject:n});case 4:return t=e.sent,e.next=7,t.data.res;case 7:if(r=e.sent,U=[],0!==r.length)for(o=0;o<r.length;o++)U.push({_id:r[o]._id,name:r[o].name,subject:r[o].subject});else console.log("No Experts Found");z(U),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ne(e){return te.apply(this,arguments)}function te(){return(te=w(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(n),e.next=3,$("");case 3:H.onOpen();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=(0,x.qY)();function se(e){return oe.apply(this,arguments)}function oe(){return(oe=w(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(n),e.next=3,$("");case 3:re.onOpen();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,ie=(0,v.useState)([]),le=ie[0],ce=ie[1],de=[],ue=(0,x.qY)();function xe(e){return pe.apply(this,arguments)}function pe(){return(pe=w(s().mark((function e(n){var t,r,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(n),e.prev=1,null==(t=localStorage.getItem("userToken"))&&P.replace("/admin/login"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=7,j().get(S.JW+"/assignment/quotes/fetch?assignment_id="+A[n].id,r);case 7:return o=e.sent,e.next=10,o.data.result.expertQuotations;case 10:if(a=e.sent,de=[],0!==a.length)for(i=0;i<a.length;i++)de.push({_id:a[i]._id,name:a[i].name,wordCount:a[i].wordCount,cost:a[i].cost,currency:a[i].currency,comments:a[i].comments});else console.log("No Experts Found");ce(de),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:ue.onOpen();case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}var he=(0,v.useState)([]),ge=he[0],me=he[1],fe=[],je=(0,x.qY)();function ve(e){return Se.apply(this,arguments)}function Se(){return(Se=w(s().mark((function e(n){var t,r,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(n),e.prev=1,null==(t=localStorage.getItem("userToken"))&&P.replace("/admin/login"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=7,j().get(S.JW+"/assignment/doability/fetch?assignment_id="+A[n].id,r);case 7:return o=e.sent,e.next=10,o.data.result.expertDoability;case 10:if(a=e.sent,fe=[],0!==a.length)for(i=0;i<a.length;i++)fe.push({_id:a[i]._id,doable:a[i].doable,createdAt:a[i].createdAt});else console.log("No Responses Found");me(fe),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:je.onOpen();case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}var be=(0,v.useState)({}),ke=be[0],Ie=be[1];function we(e){return ye.apply(this,arguments)}function ye(){return(ye=w(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie({_id:A[n].id,client_id:A[n].client_id,subject:A[n].subject,status:A[n].status,quotation:A[n].quotation,currencyOfQuote:A[n].currencyOfQuote,level:A[n].level,reference:A[n].reference,description:A[n].description,descriptionFile:A[n].descriptionFile,numOfPages:A[n].numOfPages,paid:A[n].paid,deadline:new Date(A[n].deadline).toLocaleTimeString()+", "+new Date(A[n].deadline).toDateString()});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=(0,x.qY)(),Te=Ce.isOpen,Ae=Ce.onOpen,Re=Ce.onClose;function Oe(){return(Oe=w(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("userToken"),localStorage.getItem("userEmail"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=6,j().get(S.JW+"/assignment/delete/?_id=".concat(n),r);case 6:e.sent,G(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _e(e){return ze.apply(this,arguments)}function ze(){return(ze=w(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(n);case 2:Ae(),(t=document.getElementById("date")).min=(new Date).toLocaleDateString("en-ca"),t.value=(new Date).toLocaleDateString("en-ca");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{display:{base:"none",sm:"block",md:"block"},children:[(0,o.jsx)(r,{}),(0,o.jsx)(C,{}),(0,o.jsx)(I,{}),(0,o.jsx)(f,{}),(0,o.jsx)(y,{}),(0,o.jsxs)(l.iA,{variant:"simple",size:"md",display:{base:"none",sm:"block",md:"block"},children:[(0,o.jsx)(l.hr,{bgColor:"gray.200",children:(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"ID"}),(0,o.jsx)(l.Th,{children:"Student Email"}),(0,o.jsx)(l.Th,{children:"Subject"}),(0,o.jsx)(l.Th,{children:"Deadline"}),(0,o.jsx)(l.Th,{children:"Status"}),(0,o.jsx)(l.Th,{children:"Delete Records"}),(0,o.jsx)(l.Th,{alignContent:"flex-end",children:(0,o.jsx)(d.zx,{leftIcon:(0,o.jsx)(b.ny,{}),onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:case"end":return e.stop()}}),e)}))),children:"Refresh"})})]})}),(0,o.jsx)(l.p3,{children:0===A.length?(0,o.jsx)(o.Fragment,{}):A.map((function(e,n){return(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Td,{fontWeight:"semibold",children:(0,o.jsx)(u.rU,{href:"/admin/assignment_details/"+e.id,children:e.id})}),(0,o.jsx)(l.Td,{children:"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2)+"****@****.com"}),(0,o.jsx)(l.Td,{color:"green.600",fontWeight:"semibold",children:e.subject}),(0,o.jsx)(l.Td,{color:"red.600",fontWeight:"semibold",children:e.deadline}),(0,o.jsx)(l.Td,{fontWeight:"semibold",color:"Fresh Order"===e.status?"green":"Doability Asked"===e.status?"orange":"red",children:e.status}),(0,o.jsx)(l.Td,{children:(0,o.jsx)(d.zx,{style:{color:"red"},onClick:function(){return function(e){return Oe.apply(this,arguments)}(e.id)},children:"Delete records"})}),(0,o.jsx)(l.Td,{children:(0,o.jsx)(u.Ug,{children:"Fresh Order"===e.status?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)}))),children:"Give Quote"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Quote Expert"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Doable Expert"})]}):"Quotation Asked"===e.status?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)}))),children:"Give Quote"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xe(n));case 1:case"end":return e.stop()}}),e)}))),children:"Quotation Responses"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Doable Expert"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)}))),children:"Give Quote"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Quote Expert"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(n));case 1:case"end":return e.stop()}}),e)}))),children:"Doable Responses"})]})})})]},e.id)}))})]})]}),(0,o.jsx)("div",{className:"ShowSideClick checkk",display:{base:"block",sm:"none",md:"none"},children:0===A.length?(0,o.jsx)(o.Fragment,{}):A.map((function(e,n){return(0,o.jsx)(m.UQ,{defaultIndex:[0],allowMultiple:!0,className:"p-set ",display:{base:"block",sm:"none",md:"none"},children:(0,o.jsxs)(m.Qd,{children:[(0,o.jsx)("h2",{children:(0,o.jsxs)(m.KF,{children:[(0,o.jsx)(u.xu,{flex:"1",textAlign:"left",children:(0,o.jsx)(l.iA,{children:(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"ID"}),(0,o.jsx)(l.Td,{fontWeight:"semibold",children:(0,o.jsx)(u.rU,{href:"/admin/assignment_details/"+e.id,children:e.id})})]})})}),(0,o.jsx)(m.XE,{})]})}),(0,o.jsxs)(m.Hk,{pb:0,children:[(0,o.jsx)(r,{}),(0,o.jsx)(C,{}),(0,o.jsx)(I,{}),(0,o.jsx)(f,{}),(0,o.jsx)(y,{}),(0,o.jsx)(l.iA,{variant:"simple",size:"md",children:(0,o.jsx)(l.p3,{children:(0,o.jsx)(l.Tr,{children:(0,o.jsxs)(l.iA,{bgColor:"gray.200",children:[(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"Student Email"}),(0,o.jsx)(l.Td,{children:"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?e.client_id:e.client_id.substring(0,2)+"****@****.com"})]}),(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"Subject"}),(0,o.jsx)(l.Td,{color:"green.600",fontWeight:"semibold",children:e.subject})]}),(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"Deadline"}),(0,o.jsx)(l.Td,{color:"red.600",fontWeight:"semibold",children:e.deadline})]}),(0,o.jsxs)(l.Tr,{children:[(0,o.jsx)(l.Th,{children:"Status"}),(0,o.jsx)(l.Td,{fontWeight:"semibold",color:"Fresh Order"===e.status?"green":"Doability Asked"===e.status?"orange":"red",children:e.status})]}),(0,o.jsx)(l.Tr,{children:(0,o.jsx)(l.Th,{alignContent:"flex-end",children:(0,o.jsx)(d.zx,{leftIcon:(0,o.jsx)(b.ny,{}),onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:case"end":return e.stop()}}),e)}))),children:"Refresh"})})}),(0,o.jsx)(l.Tr,{children:(0,o.jsx)(l.Td,{children:(0,o.jsx)(u.Ug,{children:"Fresh Order"===e.status?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)}))),children:"Give Quote"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Quote Expert"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Doable Expert"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",children:"Delete Records"})]}):"Quotation Asked"===e.status?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)}))),children:"Give Quote"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xe(n));case 1:case"end":return e.stop()}}),e)}))),children:"Quotation Responses"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se(n));case 1:case"end":return e.stop()}}),e)}))),children:"Ask Doable Expert"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",children:"Delete Records"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_e(n));case 1:case"end":return e.stop()}}),e)}))),children:"Give Quote"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne(n));case 1:case"end":return e.stop()}}),e)}))),children:"Quote Expert"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(n));case 1:case"end":return e.stop()}}),e)}))),children:"Doable Responses"}),(0,o.jsx)(d.zx,{display:"Operator"===localStorage.getItem("userRole")||"Super Admin"===localStorage.getItem("userRole")||"Admin"===localStorage.getItem("userRole")?"flex":"none",children:"Delete Records"})]})})})})]})},e.id)})})]})]})})}))})]})}}}]);